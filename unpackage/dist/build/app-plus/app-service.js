var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,i)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,__spreadValues=(e,t)=>{for(var i in t||(t={}))__hasOwnProp.call(t,i)&&__defNormalProp(e,i,t[i]);if(__getOwnPropSymbols)for(var i of __getOwnPropSymbols(t))__propIsEnum.call(t,i)&&__defNormalProp(e,i,t[i]);return e},__spreadProps=(e,t)=>__defProps(e,__getOwnPropDescs(t));!function(e){"use strict";function t(e){if(e&&e.__esModule)return e;var t={__proto__:null,[Symbol.toStringTag]:"Module"};return e&&Object.keys(e).forEach((function(i){if("default"!==i){var o=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return e[i]}})}})),t.default=e,Object.freeze(t)}var i=t(e);const o=Object.prototype.toString,n=e=>o.call(e),a=e=>n(e).slice(8,-1);function s(e,t){return"Function"===a(t)?"function() { [native code] }":t}function l(e,t,i){if("string"==typeof __channelId__&&__channelId__)return i.push(t.replace("at ","uni-app:///")),console[e].apply(console,i);return i.map((function(e){const t=n(e).toLowerCase();if("[object object]"===t||"[object array]"===t)try{e="---BEGIN:JSON---"+JSON.stringify(e,s)+"---END:JSON---"}catch(i){e=t}else if(null===e)e="---NULL---";else if(void 0===e)e="---UNDEFINED---";else{const t=a(e).toUpperCase();e="NUMBER"===t||"BOOLEAN"===t?"---BEGIN:"+t+"---"+e+"---END:"+t+"---":String(e)}return e})).join("---COMMA---")+" "+t}function c(e,t,...i){const o=l(e,t,i);o&&console[e](o)}var r={id:"2852637",name:"uniui图标库",font_family:"uniicons",css_prefix_text:"uniui-",description:"",glyphs:[{icon_id:"25027049",name:"yanse",font_class:"color",unicode:"e6cf",unicode_decimal:59087},{icon_id:"25027048",name:"wallet",font_class:"wallet",unicode:"e6b1",unicode_decimal:59057},{icon_id:"25015720",name:"settings-filled",font_class:"settings-filled",unicode:"e6ce",unicode_decimal:59086},{icon_id:"25015434",name:"shimingrenzheng-filled",font_class:"auth-filled",unicode:"e6cc",unicode_decimal:59084},{icon_id:"24934246",name:"shop-filled",font_class:"shop-filled",unicode:"e6cd",unicode_decimal:59085},{icon_id:"24934159",name:"staff-filled-01",font_class:"staff-filled",unicode:"e6cb",unicode_decimal:59083},{icon_id:"24932461",name:"VIP-filled",font_class:"vip-filled",unicode:"e6c6",unicode_decimal:59078},{icon_id:"24932462",name:"plus_circle_fill",font_class:"plus-filled",unicode:"e6c7",unicode_decimal:59079},{icon_id:"24932463",name:"folder_add-filled",font_class:"folder-add-filled",unicode:"e6c8",unicode_decimal:59080},{icon_id:"24932464",name:"yanse-filled",font_class:"color-filled",unicode:"e6c9",unicode_decimal:59081},{icon_id:"24932465",name:"tune-filled",font_class:"tune-filled",unicode:"e6ca",unicode_decimal:59082},{icon_id:"24932455",name:"a-rilidaka-filled",font_class:"calendar-filled",unicode:"e6c0",unicode_decimal:59072},{icon_id:"24932456",name:"notification-filled",font_class:"notification-filled",unicode:"e6c1",unicode_decimal:59073},{icon_id:"24932457",name:"wallet-filled",font_class:"wallet-filled",unicode:"e6c2",unicode_decimal:59074},{icon_id:"24932458",name:"paihangbang-filled",font_class:"medal-filled",unicode:"e6c3",unicode_decimal:59075},{icon_id:"24932459",name:"gift-filled",font_class:"gift-filled",unicode:"e6c4",unicode_decimal:59076},{icon_id:"24932460",name:"fire-filled",font_class:"fire-filled",unicode:"e6c5",unicode_decimal:59077},{icon_id:"24928001",name:"refreshempty",font_class:"refreshempty",unicode:"e6bf",unicode_decimal:59071},{icon_id:"24926853",name:"location-ellipse",font_class:"location-filled",unicode:"e6af",unicode_decimal:59055},{icon_id:"24926735",name:"person-filled",font_class:"person-filled",unicode:"e69d",unicode_decimal:59037},{icon_id:"24926703",name:"personadd-filled",font_class:"personadd-filled",unicode:"e698",unicode_decimal:59032},{icon_id:"24923351",name:"back",font_class:"back",unicode:"e6b9",unicode_decimal:59065},{icon_id:"24923352",name:"forward",font_class:"forward",unicode:"e6ba",unicode_decimal:59066},{icon_id:"24923353",name:"arrowthinright",font_class:"arrow-right",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923353",name:"arrowthinright",font_class:"arrowthinright",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrow-left",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrowthinleft",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923355",name:"arrowthinup",font_class:"arrow-up",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923355",name:"arrowthinup",font_class:"arrowthinup",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923356",name:"arrowthindown",font_class:"arrow-down",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923356",name:"arrowthindown",font_class:"arrowthindown",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923349",name:"arrowdown",font_class:"bottom",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923349",name:"arrowdown",font_class:"arrowdown",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923346",name:"arrowright",font_class:"right",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923346",name:"arrowright",font_class:"arrowright",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923347",name:"arrowup",font_class:"top",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923347",name:"arrowup",font_class:"arrowup",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923348",name:"arrowleft",font_class:"left",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923348",name:"arrowleft",font_class:"arrowleft",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923334",name:"eye",font_class:"eye",unicode:"e651",unicode_decimal:58961},{icon_id:"24923335",name:"eye-filled",font_class:"eye-filled",unicode:"e66a",unicode_decimal:58986},{icon_id:"24923336",name:"eye-slash",font_class:"eye-slash",unicode:"e6b3",unicode_decimal:59059},{icon_id:"24923337",name:"eye-slash-filled",font_class:"eye-slash-filled",unicode:"e6b4",unicode_decimal:59060},{icon_id:"24923305",name:"info-filled",font_class:"info-filled",unicode:"e649",unicode_decimal:58953},{icon_id:"24923299",name:"reload-01",font_class:"reload",unicode:"e6b2",unicode_decimal:59058},{icon_id:"24923195",name:"mic_slash_fill",font_class:"micoff-filled",unicode:"e6b0",unicode_decimal:59056},{icon_id:"24923165",name:"map-pin-ellipse",font_class:"map-pin-ellipse",unicode:"e6ac",unicode_decimal:59052},{icon_id:"24923166",name:"map-pin",font_class:"map-pin",unicode:"e6ad",unicode_decimal:59053},{icon_id:"24923167",name:"location",font_class:"location",unicode:"e6ae",unicode_decimal:59054},{icon_id:"24923064",name:"starhalf",font_class:"starhalf",unicode:"e683",unicode_decimal:59011},{icon_id:"24923065",name:"star",font_class:"star",unicode:"e688",unicode_decimal:59016},{icon_id:"24923066",name:"star-filled",font_class:"star-filled",unicode:"e68f",unicode_decimal:59023},{icon_id:"24899646",name:"a-rilidaka",font_class:"calendar",unicode:"e6a0",unicode_decimal:59040},{icon_id:"24899647",name:"fire",font_class:"fire",unicode:"e6a1",unicode_decimal:59041},{icon_id:"24899648",name:"paihangbang",font_class:"medal",unicode:"e6a2",unicode_decimal:59042},{icon_id:"24899649",name:"font",font_class:"font",unicode:"e6a3",unicode_decimal:59043},{icon_id:"24899650",name:"gift",font_class:"gift",unicode:"e6a4",unicode_decimal:59044},{icon_id:"24899651",name:"link",font_class:"link",unicode:"e6a5",unicode_decimal:59045},{icon_id:"24899652",name:"notification",font_class:"notification",unicode:"e6a6",unicode_decimal:59046},{icon_id:"24899653",name:"staff",font_class:"staff",unicode:"e6a7",unicode_decimal:59047},{icon_id:"24899654",name:"VIP",font_class:"vip",unicode:"e6a8",unicode_decimal:59048},{icon_id:"24899655",name:"folder_add",font_class:"folder-add",unicode:"e6a9",unicode_decimal:59049},{icon_id:"24899656",name:"tune",font_class:"tune",unicode:"e6aa",unicode_decimal:59050},{icon_id:"24899657",name:"shimingrenzheng",font_class:"auth",unicode:"e6ab",unicode_decimal:59051},{icon_id:"24899565",name:"person",font_class:"person",unicode:"e699",unicode_decimal:59033},{icon_id:"24899566",name:"email-filled",font_class:"email-filled",unicode:"e69a",unicode_decimal:59034},{icon_id:"24899567",name:"phone-filled",font_class:"phone-filled",unicode:"e69b",unicode_decimal:59035},{icon_id:"24899568",name:"phone",font_class:"phone",unicode:"e69c",unicode_decimal:59036},{icon_id:"24899570",name:"email",font_class:"email",unicode:"e69e",unicode_decimal:59038},{icon_id:"24899571",name:"personadd",font_class:"personadd",unicode:"e69f",unicode_decimal:59039},{icon_id:"24899558",name:"chatboxes-filled",font_class:"chatboxes-filled",unicode:"e692",unicode_decimal:59026},{icon_id:"24899559",name:"contact",font_class:"contact",unicode:"e693",unicode_decimal:59027},{icon_id:"24899560",name:"chatbubble-filled",font_class:"chatbubble-filled",unicode:"e694",unicode_decimal:59028},{icon_id:"24899561",name:"contact-filled",font_class:"contact-filled",unicode:"e695",unicode_decimal:59029},{icon_id:"24899562",name:"chatboxes",font_class:"chatboxes",unicode:"e696",unicode_decimal:59030},{icon_id:"24899563",name:"chatbubble",font_class:"chatbubble",unicode:"e697",unicode_decimal:59031},{icon_id:"24881290",name:"upload-filled",font_class:"upload-filled",unicode:"e68e",unicode_decimal:59022},{icon_id:"24881292",name:"upload",font_class:"upload",unicode:"e690",unicode_decimal:59024},{icon_id:"24881293",name:"weixin",font_class:"weixin",unicode:"e691",unicode_decimal:59025},{icon_id:"24881274",name:"compose",font_class:"compose",unicode:"e67f",unicode_decimal:59007},{icon_id:"24881275",name:"qq",font_class:"qq",unicode:"e680",unicode_decimal:59008},{icon_id:"24881276",name:"download-filled",font_class:"download-filled",unicode:"e681",unicode_decimal:59009},{icon_id:"24881277",name:"pengyouquan",font_class:"pyq",unicode:"e682",unicode_decimal:59010},{icon_id:"24881279",name:"sound",font_class:"sound",unicode:"e684",unicode_decimal:59012},{icon_id:"24881280",name:"trash-filled",font_class:"trash-filled",unicode:"e685",unicode_decimal:59013},{icon_id:"24881281",name:"sound-filled",font_class:"sound-filled",unicode:"e686",unicode_decimal:59014},{icon_id:"24881282",name:"trash",font_class:"trash",unicode:"e687",unicode_decimal:59015},{icon_id:"24881284",name:"videocam-filled",font_class:"videocam-filled",unicode:"e689",unicode_decimal:59017},{icon_id:"24881285",name:"spinner-cycle",font_class:"spinner-cycle",unicode:"e68a",unicode_decimal:59018},{icon_id:"24881286",name:"weibo",font_class:"weibo",unicode:"e68b",unicode_decimal:59019},{icon_id:"24881288",name:"videocam",font_class:"videocam",unicode:"e68c",unicode_decimal:59020},{icon_id:"24881289",name:"download",font_class:"download",unicode:"e68d",unicode_decimal:59021},{icon_id:"24879601",name:"help",font_class:"help",unicode:"e679",unicode_decimal:59001},{icon_id:"24879602",name:"navigate-filled",font_class:"navigate-filled",unicode:"e67a",unicode_decimal:59002},{icon_id:"24879603",name:"plusempty",font_class:"plusempty",unicode:"e67b",unicode_decimal:59003},{icon_id:"24879604",name:"smallcircle",font_class:"smallcircle",unicode:"e67c",unicode_decimal:59004},{icon_id:"24879605",name:"minus-filled",font_class:"minus-filled",unicode:"e67d",unicode_decimal:59005},{icon_id:"24879606",name:"micoff",font_class:"micoff",unicode:"e67e",unicode_decimal:59006},{icon_id:"24879588",name:"closeempty",font_class:"closeempty",unicode:"e66c",unicode_decimal:58988},{icon_id:"24879589",name:"clear",font_class:"clear",unicode:"e66d",unicode_decimal:58989},{icon_id:"24879590",name:"navigate",font_class:"navigate",unicode:"e66e",unicode_decimal:58990},{icon_id:"24879591",name:"minus",font_class:"minus",unicode:"e66f",unicode_decimal:58991},{icon_id:"24879592",name:"image",font_class:"image",unicode:"e670",unicode_decimal:58992},{icon_id:"24879593",name:"mic",font_class:"mic",unicode:"e671",unicode_decimal:58993},{icon_id:"24879594",name:"paperplane",font_class:"paperplane",unicode:"e672",unicode_decimal:58994},{icon_id:"24879595",name:"close",font_class:"close",unicode:"e673",unicode_decimal:58995},{icon_id:"24879596",name:"help-filled",font_class:"help-filled",unicode:"e674",unicode_decimal:58996},{icon_id:"24879597",name:"plus-filled",font_class:"paperplane-filled",unicode:"e675",unicode_decimal:58997},{icon_id:"24879598",name:"plus",font_class:"plus",unicode:"e676",unicode_decimal:58998},{icon_id:"24879599",name:"mic-filled",font_class:"mic-filled",unicode:"e677",unicode_decimal:58999},{icon_id:"24879600",name:"image-filled",font_class:"image-filled",unicode:"e678",unicode_decimal:59e3},{icon_id:"24855900",name:"locked-filled",font_class:"locked-filled",unicode:"e668",unicode_decimal:58984},{icon_id:"24855901",name:"info",font_class:"info",unicode:"e669",unicode_decimal:58985},{icon_id:"24855903",name:"locked",font_class:"locked",unicode:"e66b",unicode_decimal:58987},{icon_id:"24855884",name:"camera-filled",font_class:"camera-filled",unicode:"e658",unicode_decimal:58968},{icon_id:"24855885",name:"chat-filled",font_class:"chat-filled",unicode:"e659",unicode_decimal:58969},{icon_id:"24855886",name:"camera",font_class:"camera",unicode:"e65a",unicode_decimal:58970},{icon_id:"24855887",name:"circle",font_class:"circle",unicode:"e65b",unicode_decimal:58971},{icon_id:"24855888",name:"checkmarkempty",font_class:"checkmarkempty",unicode:"e65c",unicode_decimal:58972},{icon_id:"24855889",name:"chat",font_class:"chat",unicode:"e65d",unicode_decimal:58973},{icon_id:"24855890",name:"circle-filled",font_class:"circle-filled",unicode:"e65e",unicode_decimal:58974},{icon_id:"24855891",name:"flag",font_class:"flag",unicode:"e65f",unicode_decimal:58975},{icon_id:"24855892",name:"flag-filled",font_class:"flag-filled",unicode:"e660",unicode_decimal:58976},{icon_id:"24855893",name:"gear-filled",font_class:"gear-filled",unicode:"e661",unicode_decimal:58977},{icon_id:"24855894",name:"home",font_class:"home",unicode:"e662",unicode_decimal:58978},{icon_id:"24855895",name:"home-filled",font_class:"home-filled",unicode:"e663",unicode_decimal:58979},{icon_id:"24855896",name:"gear",font_class:"gear",unicode:"e664",unicode_decimal:58980},{icon_id:"24855897",name:"smallcircle-filled",font_class:"smallcircle-filled",unicode:"e665",unicode_decimal:58981},{icon_id:"24855898",name:"map-filled",font_class:"map-filled",unicode:"e666",unicode_decimal:58982},{icon_id:"24855899",name:"map",font_class:"map",unicode:"e667",unicode_decimal:58983},{icon_id:"24855825",name:"refresh-filled",font_class:"refresh-filled",unicode:"e656",unicode_decimal:58966},{icon_id:"24855826",name:"refresh",font_class:"refresh",unicode:"e657",unicode_decimal:58967},{icon_id:"24855808",name:"cloud-upload",font_class:"cloud-upload",unicode:"e645",unicode_decimal:58949},{icon_id:"24855809",name:"cloud-download-filled",font_class:"cloud-download-filled",unicode:"e646",unicode_decimal:58950},{icon_id:"24855810",name:"cloud-download",font_class:"cloud-download",unicode:"e647",unicode_decimal:58951},{icon_id:"24855811",name:"cloud-upload-filled",font_class:"cloud-upload-filled",unicode:"e648",unicode_decimal:58952},{icon_id:"24855813",name:"redo",font_class:"redo",unicode:"e64a",unicode_decimal:58954},{icon_id:"24855814",name:"images-filled",font_class:"images-filled",unicode:"e64b",unicode_decimal:58955},{icon_id:"24855815",name:"undo-filled",font_class:"undo-filled",unicode:"e64c",unicode_decimal:58956},{icon_id:"24855816",name:"more",font_class:"more",unicode:"e64d",unicode_decimal:58957},{icon_id:"24855817",name:"more-filled",font_class:"more-filled",unicode:"e64e",unicode_decimal:58958},{icon_id:"24855818",name:"undo",font_class:"undo",unicode:"e64f",unicode_decimal:58959},{icon_id:"24855819",name:"images",font_class:"images",unicode:"e650",unicode_decimal:58960},{icon_id:"24855821",name:"paperclip",font_class:"paperclip",unicode:"e652",unicode_decimal:58962},{icon_id:"24855822",name:"settings",font_class:"settings",unicode:"e653",unicode_decimal:58963},{icon_id:"24855823",name:"search",font_class:"search",unicode:"e654",unicode_decimal:58964},{icon_id:"24855824",name:"redo-filled",font_class:"redo-filled",unicode:"e655",unicode_decimal:58965},{icon_id:"24841702",name:"list",font_class:"list",unicode:"e644",unicode_decimal:58948},{icon_id:"24841489",name:"mail-open-filled",font_class:"mail-open-filled",unicode:"e63a",unicode_decimal:58938},{icon_id:"24841491",name:"hand-thumbsdown-filled",font_class:"hand-down-filled",unicode:"e63c",unicode_decimal:58940},{icon_id:"24841492",name:"hand-thumbsdown",font_class:"hand-down",unicode:"e63d",unicode_decimal:58941},{icon_id:"24841493",name:"hand-thumbsup-filled",font_class:"hand-up-filled",unicode:"e63e",unicode_decimal:58942},{icon_id:"24841494",name:"hand-thumbsup",font_class:"hand-up",unicode:"e63f",unicode_decimal:58943},{icon_id:"24841496",name:"heart-filled",font_class:"heart-filled",unicode:"e641",unicode_decimal:58945},{icon_id:"24841498",name:"mail-open",font_class:"mail-open",unicode:"e643",unicode_decimal:58947},{icon_id:"24841488",name:"heart",font_class:"heart",unicode:"e639",unicode_decimal:58937},{icon_id:"24839963",name:"loop",font_class:"loop",unicode:"e633",unicode_decimal:58931},{icon_id:"24839866",name:"pulldown",font_class:"pulldown",unicode:"e632",unicode_decimal:58930},{icon_id:"24813798",name:"scan",font_class:"scan",unicode:"e62a",unicode_decimal:58922},{icon_id:"24813786",name:"bars",font_class:"bars",unicode:"e627",unicode_decimal:58919},{icon_id:"24813788",name:"cart-filled",font_class:"cart-filled",unicode:"e629",unicode_decimal:58921},{icon_id:"24813790",name:"checkbox",font_class:"checkbox",unicode:"e62b",unicode_decimal:58923},{icon_id:"24813791",name:"checkbox-filled",font_class:"checkbox-filled",unicode:"e62c",unicode_decimal:58924},{icon_id:"24813794",name:"shop",font_class:"shop",unicode:"e62f",unicode_decimal:58927},{icon_id:"24813795",name:"headphones",font_class:"headphones",unicode:"e630",unicode_decimal:58928},{icon_id:"24813796",name:"cart",font_class:"cart",unicode:"e631",unicode_decimal:58929}]},d=(e,t)=>{const i=e.__vccOpts||e;for(const[o,n]of t)i[o]=n;return i};var m=d({name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""}},data:()=>({icons:r.glyphs}),computed:{unicode(){let e=this.icons.find((e=>e.font_class===this.type));return e?unescape(`%u${e.unicode}`):""},iconSize(){return"number"==typeof(e=this.size)||/^[0-9]*$/g.test(e)?e+"px":e;var e}},methods:{_onClick(){this.$emit("click")}}},[["render",function(t,i,o,n,a,s){return e.openBlock(),e.createElementBlock("text",{style:e.normalizeStyle({color:o.color,"font-size":s.iconSize}),class:e.normalizeClass(["uni-icons",["uniui-"+o.type,o.customPrefix,o.customPrefix?o.type:""]]),onClick:i[0]||(i[0]=(...e)=>s._onClick&&s._onClick(...e))},null,6)}],["__scopeId","data-v-a0895554"]]);function h(e,t){return"string"==typeof e?t:e}const g=e=>"number"==typeof e?e+"px":e;var p=d({name:"UniNavBar",components:{statusBar:d({name:"UniStatusBar",data:()=>({statusBarHeight:20}),mounted(){this.statusBarHeight=uni.getSystemInfoSync().statusBarHeight+"px"}},[["render",function(t,i,o,n,a,s){return e.openBlock(),e.createElementBlock("view",{style:e.normalizeStyle({height:a.statusBarHeight}),class:"uni-status-bar"},[e.renderSlot(t.$slots,"default",{},void 0,!0)],4)}],["__scopeId","data-v-4fab0372"]])},emits:["clickLeft","clickRight","clickTitle"],props:{dark:{type:Boolean,default:!1},title:{type:String,default:""},leftText:{type:String,default:""},rightText:{type:String,default:""},leftIcon:{type:String,default:""},rightIcon:{type:String,default:""},fixed:{type:[Boolean,String],default:!1},color:{type:String,default:""},backgroundColor:{type:String,default:""},statusBar:{type:[Boolean,String],default:!1},shadow:{type:[Boolean,String],default:!1},border:{type:[Boolean,String],default:!0},height:{type:[Number,String],default:44},leftWidth:{type:[Number,String],default:60},rightWidth:{type:[Number,String],default:60}},computed:{themeBgColor(){return this.dark?this.backgroundColor?this.backgroundColor:this.dark?"#111":"#FFF":this.backgroundColor||"#FFF"},themeColor(){return this.dark?this.color?this.color:this.dark?"#fff":"#111":this.color||"#111"},navbarHeight(){return g(this.height)},leftIconWidth(){return g(this.leftWidth)},rightIconWidth(){return g(this.rightWidth)}},mounted(){uni.report&&""!==this.title&&uni.report("title",this.title)},methods:{onClickLeft(){this.$emit("clickLeft")},onClickRight(){this.$emit("clickRight")},onClickTitle(){this.$emit("clickTitle")}}},[["render",function(t,i,o,n,a,s){const l=e.resolveComponent("status-bar"),c=h(e.resolveDynamicComponent("uni-icons"),m);return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["uni-navbar",{"uni-dark":o.dark}])},[e.createElementVNode("view",{class:e.normalizeClass([{"uni-navbar--fixed":o.fixed,"uni-navbar--shadow":o.shadow,"uni-navbar--border":o.border},"uni-navbar__content"]),style:e.normalizeStyle({"background-color":s.themeBgColor})},[o.statusBar?(e.openBlock(),e.createBlock(l,{key:0})):e.createCommentVNode("",!0),e.createElementVNode("view",{style:e.normalizeStyle({color:s.themeColor,backgroundColor:s.themeBgColor,height:s.navbarHeight}),class:"uni-navbar__header"},[e.createElementVNode("view",{onClick:i[0]||(i[0]=(...e)=>s.onClickLeft&&s.onClickLeft(...e)),class:"uni-navbar__header-btns uni-navbar__header-btns-left",style:e.normalizeStyle({width:s.leftIconWidth})},[e.renderSlot(t.$slots,"left",{},(()=>[o.leftIcon.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uni-navbar__content_view"},[e.createVNode(c,{color:s.themeColor,type:o.leftIcon,customPrefix:"iconfont",size:"25"},null,8,["color","type"])])):e.createCommentVNode("",!0),o.leftText.length?(e.openBlock(),e.createElementBlock("view",{key:1,class:e.normalizeClass([{"uni-navbar-btn-icon-left":!o.leftIcon.length>0},"uni-navbar-btn-text"])},[e.createElementVNode("text",{style:e.normalizeStyle({color:s.themeColor,fontSize:"12px"})},e.toDisplayString(o.leftText),5)],2)):e.createCommentVNode("",!0)]),!0)],4),e.createElementVNode("view",{class:"uni-navbar__header-container",onClick:i[1]||(i[1]=(...e)=>s.onClickTitle&&s.onClickTitle(...e))},[e.renderSlot(t.$slots,"default",{},(()=>[o.title.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uni-navbar__header-container-inner"},[e.createElementVNode("text",{class:"uni-nav-bar-text uni-ellipsis-1",style:e.normalizeStyle({color:s.themeColor})},e.toDisplayString(o.title),5)])):e.createCommentVNode("",!0)]),!0)]),e.createElementVNode("view",{onClick:i[2]||(i[2]=(...e)=>s.onClickRight&&s.onClickRight(...e)),class:"uni-navbar__header-btns uni-navbar__header-btns-right",style:e.normalizeStyle({width:s.rightIconWidth})},[e.renderSlot(t.$slots,"right",{},(()=>[o.rightIcon.length?(e.openBlock(),e.createElementBlock("view",{key:0},[e.createVNode(c,{color:s.themeColor,type:o.rightIcon,customPrefix:"iconfont",size:"25"},null,8,["color","type"])])):e.createCommentVNode("",!0),o.rightText.length&&!o.rightIcon.length?(e.openBlock(),e.createElementBlock("view",{key:1,class:"uni-navbar-btn-text"},[e.createElementVNode("text",{class:"uni-nav-bar-right-text",style:e.normalizeStyle({color:s.themeColor})},e.toDisplayString(o.rightText),5)])):e.createCommentVNode("",!0)]),!0)],4)],4)],6),o.fixed?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uni-navbar__placeholder"},[o.statusBar?(e.openBlock(),e.createBlock(l,{key:0})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"uni-navbar__placeholder-view",style:e.normalizeStyle({height:s.navbarHeight})},null,4)])):e.createCommentVNode("",!0)],2)}],["__scopeId","data-v-c66a474e"]]);class f{constructor(e,t){this.options=e,this.animation=uni.createAnimation(e),this.currentStepAnimates={},this.next=0,this.$=t}_nvuePushAnimates(e,t){let i=this.currentStepAnimates[this.next],o={};if(o=i||{styles:{},config:{}},_.includes(e)){o.styles.transform||(o.styles.transform="");let i="";"rotate"===e&&(i="deg"),o.styles.transform+=`${e}(${t+i}) `}else o.styles[e]=`${t}`;this.currentStepAnimates[this.next]=o}_animateRun(e={},t={}){let i=this.$.$refs.ani.ref;if(i)return new Promise(((o,n)=>{nvueAnimation.transition(i,__spreadValues({styles:e},t),(e=>{o()}))}))}_nvueNextAnimate(e,t=0,i){let o=e[t];if(o){let{styles:n,config:a}=o;this._animateRun(n,a).then((()=>{t+=1,this._nvueNextAnimate(e,t,i)}))}else this.currentStepAnimates={},"function"==typeof i&&i(),this.isEnd=!0}step(e={}){return this.animation.step(e),this}run(e){this.$.animationData=this.animation.export(),this.$.timer=setTimeout((()=>{"function"==typeof e&&e()}),this.$.durationTime)}}const _=["matrix","matrix3d","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","translate","translate3d","translateX","translateY","translateZ"];function y(e,t){if(t)return clearTimeout(t.timer),new f(e,t)}_.concat(["opacity","backgroundColor"],["width","height","left","right","top","bottom"]).forEach((e=>{f.prototype[e]=function(...t){return this.animation[e](...t),this}}));var v=d({name:"uniTransition",emits:["click","change"],props:{show:{type:Boolean,default:!1},modeClass:{type:[Array,String],default:()=>"fade"},duration:{type:Number,default:300},styles:{type:Object,default:()=>({})},customClass:{type:String,default:""}},data:()=>({isShow:!1,transform:"",opacity:1,animationData:{},durationTime:300,config:{}}),watch:{show:{handler(e){e?this.open():this.isShow&&this.close()},immediate:!0}},computed:{stylesObject(){let e=__spreadProps(__spreadValues({},this.styles),{"transition-duration":this.duration/1e3+"s"}),t="";for(let i in e){t+=this.toLine(i)+":"+e[i]+";"}return t},transformStyles(){return"transform:"+this.transform+";opacity:"+this.opacity+";"+this.stylesObject}},created(){this.config={duration:this.duration,timingFunction:"ease",transformOrigin:"50% 50%",delay:0},this.durationTime=this.duration},methods:{init(e={}){e.duration&&(this.durationTime=e.duration),this.animation=y(Object.assign(this.config,e),this)},onClick(){this.$emit("click",{detail:this.isShow})},step(e,t={}){if(this.animation){for(let t in e)try{"object"==typeof e[t]?this.animation[t](...e[t]):this.animation[t](e[t])}catch(i){c("error","at uni_modules/uni-transition/components/uni-transition/uni-transition.vue:139",`方法 ${t} 不存在`)}return this.animation.step(t),this}},run(e){this.animation&&this.animation.run(e)},open(){clearTimeout(this.timer),this.transform="",this.isShow=!0;let{opacity:e,transform:t}=this.styleInit(!1);void 0!==e&&(this.opacity=e),this.transform=t,this.$nextTick((()=>{this.timer=setTimeout((()=>{this.animation=y(this.config,this),this.tranfromInit(!1).step(),this.animation.run(),this.$emit("change",{detail:this.isShow})}),20)}))},close(e){this.animation&&this.tranfromInit(!0).step().run((()=>{this.isShow=!1,this.animationData=null,this.animation=null;let{opacity:e,transform:t}=this.styleInit(!1);this.opacity=e||1,this.transform=t,this.$emit("change",{detail:this.isShow})}))},styleInit(e){let t={transform:""},i=(e,i)=>{"fade"===i?t.opacity=this.animationType(e)[i]:t.transform+=this.animationType(e)[i]+" "};return"string"==typeof this.modeClass?i(e,this.modeClass):this.modeClass.forEach((t=>{i(e,t)})),t},tranfromInit(e){let t=(e,t)=>{let i=null;"fade"===t?i=e?0:1:(i=e?"-100%":"0","zoom-in"===t&&(i=e?.8:1),"zoom-out"===t&&(i=e?1.2:1),"slide-right"===t&&(i=e?"100%":"0"),"slide-bottom"===t&&(i=e?"100%":"0")),this.animation[this.animationMode()[t]](i)};return"string"==typeof this.modeClass?t(e,this.modeClass):this.modeClass.forEach((i=>{t(e,i)})),this.animation},animationType:e=>({fade:e?1:0,"slide-top":`translateY(${e?"0":"-100%"})`,"slide-right":`translateX(${e?"0":"100%"})`,"slide-bottom":`translateY(${e?"0":"100%"})`,"slide-left":`translateX(${e?"0":"-100%"})`,"zoom-in":`scaleX(${e?1:.8}) scaleY(${e?1:.8})`,"zoom-out":`scaleX(${e?1:1.2}) scaleY(${e?1:1.2})`}),animationMode:()=>({fade:"opacity","slide-top":"translateY","slide-right":"translateX","slide-bottom":"translateY","slide-left":"translateX","zoom-in":"scale","zoom-out":"scale"}),toLine:e=>e.replace(/([A-Z])/g,"-$1").toLowerCase()}},[["render",function(t,i,o,n,a,s){return a.isShow?(e.openBlock(),e.createElementBlock("view",{key:0,ref:"ani",animation:a.animationData,class:e.normalizeClass(o.customClass),style:e.normalizeStyle(s.transformStyles),onClick:i[0]||(i[0]=(...e)=>s.onClick&&s.onClick(...e))},[e.renderSlot(t.$slots,"default")],14,["animation"])):e.createCommentVNode("",!0)}]]);function w(){return"undefined"!=typeof navigator&&"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}}const b="function"==typeof Proxy;class k{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const i={};if(e.settings)for(const s in e.settings){const t=e.settings[s];i[s]=t.defaultValue}const o=`__vue-devtools-plugin-settings__${e.id}`;let n=__spreadValues({},i);try{const e=localStorage.getItem(o),t=JSON.parse(e);Object.assign(n,t)}catch(a){}this.fallbacks={getSettings:()=>n,setSettings(e){try{localStorage.setItem(o,JSON.stringify(e))}catch(a){}n=e}},t.on("plugin:settings:set",((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((i=>{this.targetQueue.push({method:t,args:e,resolve:i})}))})}async setRealTarget(e){this.target=e;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function N(e,t){const i=w(),o=w().__VUE_DEVTOOLS_GLOBAL_HOOK__,n=b&&e.enableEarlyProxy;if(!o||!i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&n){const a=n?new k(e,o):null;(i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:e,setupFn:t,proxy:a}),a&&t(a.proxiedTarget)}else o.emit("devtools-plugin:setup",e,t)}
/*!
   * vuex v4.0.2
   * (c) 2021 Evan You
   * @license MIT
   */function P(e,t){Object.keys(e).forEach((function(i){return t(e[i],i)}))}function C(e){return null!==e&&"object"==typeof e}function E(e,t,i){return t.indexOf(e)<0&&(i&&i.prepend?t.unshift(e):t.push(e)),function(){var i=t.indexOf(e);i>-1&&t.splice(i,1)}}function S(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var i=e.state;x(e,i,[],e._modules.root,!0),V(e,i,t)}function V(t,i,o){var n=t._state;t.getters={},t._makeLocalGettersCache=Object.create(null);var a=t._wrappedGetters,s={};P(a,(function(e,i){s[i]=function(e,t){return function(){return e(t)}}(e,t),Object.defineProperty(t.getters,i,{get:function(){return s[i]()},enumerable:!0})})),t._state=e.reactive({data:i}),t.strict&&function(t){e.watch((function(){return t._state.data}),(function(){}),{deep:!0,flush:"sync"})}(t),n&&o&&t._withCommit((function(){n.data=null}))}function x(e,t,i,o,n){var a=!i.length,s=e._modules.getNamespace(i);if(o.namespaced&&(e._modulesNamespaceMap[s],e._modulesNamespaceMap[s]=o),!a&&!n){var l=L(t,i.slice(0,-1)),c=i[i.length-1];e._withCommit((function(){l[c]=o.state}))}var r=o.context=function(e,t,i){var o=""===t,n={dispatch:o?e.dispatch:function(i,o,n){var a=I(i,o,n),s=a.payload,l=a.options,c=a.type;return l&&l.root||(c=t+c),e.dispatch(c,s)},commit:o?e.commit:function(i,o,n){var a=I(i,o,n),s=a.payload,l=a.options,c=a.type;l&&l.root||(c=t+c),e.commit(c,s,l)}};return Object.defineProperties(n,{getters:{get:o?function(){return e.getters}:function(){return M(e,t)}},state:{get:function(){return L(e.state,i)}}}),n}(e,s,i);o.forEachMutation((function(t,i){!function(e,t,i,o){(e._mutations[t]||(e._mutations[t]=[])).push((function(t){i.call(e,o.state,t)}))}(e,s+i,t,r)})),o.forEachAction((function(t,i){var o=t.root?i:s+i,n=t.handler||t;!function(e,t,i,o){(e._actions[t]||(e._actions[t]=[])).push((function(t){var n,a=i.call(e,{dispatch:o.dispatch,commit:o.commit,getters:o.getters,state:o.state,rootGetters:e.getters,rootState:e.state},t);return(n=a)&&"function"==typeof n.then||(a=Promise.resolve(a)),e._devtoolHook?a.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):a}))}(e,o,n,r)})),o.forEachGetter((function(t,i){!function(e,t,i,o){if(e._wrappedGetters[t])return;e._wrappedGetters[t]=function(e){return i(o.state,o.getters,e.state,e.getters)}}(e,s+i,t,r)})),o.forEachChild((function(o,a){x(e,t,i.concat(a),o,n)}))}function M(e,t){if(!e._makeLocalGettersCache[t]){var i={},o=t.length;Object.keys(e.getters).forEach((function(n){if(n.slice(0,o)===t){var a=n.slice(o);Object.defineProperty(i,a,{get:function(){return e.getters[n]},enumerable:!0})}})),e._makeLocalGettersCache[t]=i}return e._makeLocalGettersCache[t]}function L(e,t){return t.reduce((function(e,t){return e[t]}),e)}function I(e,t,i){return C(e)&&e.type&&(i=t,t=e,e=e.type),{type:e,payload:t,options:i}}var T="vuex:mutations",B="vuex:actions",D="vuex",F=0;function j(e,t){N({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:["vuex bindings"]},(function(i){i.addTimelineLayer({id:T,label:"Vuex Mutations",color:A}),i.addTimelineLayer({id:B,label:"Vuex Actions",color:A}),i.addInspector({id:D,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),i.on.getInspectorTree((function(i){if(i.app===e&&i.inspectorId===D)if(i.filter){var o=[];$(o,t._modules.root,i.filter,""),i.rootNodes=o}else i.rootNodes=[R(t._modules.root,"")]})),i.on.getInspectorState((function(i){if(i.app===e&&i.inspectorId===D){var o=i.nodeId;M(t,o),i.state=function(e,t,i){t="root"===i?t:t[i];var o=Object.keys(t),n={state:Object.keys(e.state).map((function(t){return{key:t,editable:!0,value:e.state[t]}}))};if(o.length){var a=function(e){var t={};return Object.keys(e).forEach((function(i){var o=i.split("/");if(o.length>1){var n=t,a=o.pop();o.forEach((function(e){n[e]||(n[e]={_custom:{value:{},display:e,tooltip:"Module",abstract:!0}}),n=n[e]._custom.value})),n[a]=H((function(){return e[i]}))}else t[i]=H((function(){return e[i]}))})),t}(t);n.getters=Object.keys(a).map((function(e){return{key:e.endsWith("/")?z(e):e,editable:!1,value:H((function(){return a[e]}))}}))}return n}((n=t._modules,(s=(a=o).split("/").filter((function(e){return e}))).reduce((function(e,t,i){var o=e[t];if(!o)throw new Error('Missing module "'+t+'" for path "'+a+'".');return i===s.length-1?o:o._children}),"root"===a?n:n.root._children)),"root"===o?t.getters:t._makeLocalGettersCache,o)}var n,a,s})),i.on.editInspectorState((function(i){if(i.app===e&&i.inspectorId===D){var o=i.nodeId,n=i.path;"root"!==o&&(n=o.split("/").filter(Boolean).concat(n)),t._withCommit((function(){i.set(t._state.data,n,i.state.value)}))}})),t.subscribe((function(e,t){var o={};e.payload&&(o.payload=e.payload),o.state=t,i.notifyComponentUpdate(),i.sendInspectorTree(D),i.sendInspectorState(D),i.addTimelineEvent({layerId:T,event:{time:Date.now(),title:e.type,data:o}})})),t.subscribeAction({before:function(e,t){var o={};e.payload&&(o.payload=e.payload),e._id=F++,e._time=Date.now(),o.state=t,i.addTimelineEvent({layerId:B,event:{time:e._time,title:e.type,groupId:e._id,subtitle:"start",data:o}})},after:function(e,t){var o={},n=Date.now()-e._time;o.duration={_custom:{type:"duration",display:n+"ms",tooltip:"Action duration",value:n}},e.payload&&(o.payload=e.payload),o.state=t,i.addTimelineEvent({layerId:B,event:{time:Date.now(),title:e.type,groupId:e._id,subtitle:"end",data:o}})}})}))}var A=8702998,O={label:"namespaced",textColor:16777215,backgroundColor:6710886};function z(e){return e&&"root"!==e?e.split("/").slice(-2,-1)[0]:"Root"}function R(e,t){return{id:t||"root",label:z(t),tags:e.namespaced?[O]:[],children:Object.keys(e._children).map((function(i){return R(e._children[i],t+i+"/")}))}}function $(e,t,i,o){o.includes(i)&&e.push({id:o||"root",label:o.endsWith("/")?o.slice(0,o.length-1):o||"Root",tags:t.namespaced?[O]:[]}),Object.keys(t._children).forEach((function(n){$(e,t._children[n],i,o+n+"/")}))}function H(e){try{return e()}catch(t){return t}}var U=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var i=e.state;this.state=("function"==typeof i?i():i)||{}},G={namespaced:{configurable:!0}};G.namespaced.get=function(){return!!this._rawModule.namespaced},U.prototype.addChild=function(e,t){this._children[e]=t},U.prototype.removeChild=function(e){delete this._children[e]},U.prototype.getChild=function(e){return this._children[e]},U.prototype.hasChild=function(e){return e in this._children},U.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},U.prototype.forEachChild=function(e){P(this._children,e)},U.prototype.forEachGetter=function(e){this._rawModule.getters&&P(this._rawModule.getters,e)},U.prototype.forEachAction=function(e){this._rawModule.actions&&P(this._rawModule.actions,e)},U.prototype.forEachMutation=function(e){this._rawModule.mutations&&P(this._rawModule.mutations,e)},Object.defineProperties(U.prototype,G);var Q=function(e){this.register([],e,!1)};function W(e,t,i){if(t.update(i),i.modules)for(var o in i.modules){if(!t.getChild(o))return;W(e.concat(o),t.getChild(o),i.modules[o])}}Q.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},Q.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,i){return e+((t=t.getChild(i)).namespaced?i+"/":"")}),"")},Q.prototype.update=function(e){W([],this.root,e)},Q.prototype.register=function(e,t,i){var o=this;void 0===i&&(i=!0);var n=new U(t,i);0===e.length?this.root=n:this.get(e.slice(0,-1)).addChild(e[e.length-1],n);t.modules&&P(t.modules,(function(t,n){o.register(e.concat(n),t,i)}))},Q.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),i=e[e.length-1],o=t.getChild(i);o&&o.runtime&&t.removeChild(i)},Q.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),i=e[e.length-1];return!!t&&t.hasChild(i)};var X=function(e){var t=this;void 0===e&&(e={});var i=e.plugins;void 0===i&&(i=[]);var o=e.strict;void 0===o&&(o=!1);var n=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Q(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=n;var a=this,s=this.dispatch,l=this.commit;this.dispatch=function(e,t){return s.call(a,e,t)},this.commit=function(e,t,i){return l.call(a,e,t,i)},this.strict=o;var c=this._modules.root.state;x(this,c,[],this._modules.root),V(this,c),i.forEach((function(e){return e(t)}))},Y={state:{configurable:!0}};X.prototype.install=function(e,t){e.provide(t||"store",this),e.config.globalProperties.$store=this,void 0!==this._devtools&&this._devtools&&j(e,this)},Y.state.get=function(){return this._state.data},Y.state.set=function(e){},X.prototype.commit=function(e,t,i){var o=this,n=I(e,t,i),a=n.type,s=n.payload,l={type:a,payload:s},c=this._mutations[a];c&&(this._withCommit((function(){c.forEach((function(e){e(s)}))})),this._subscribers.slice().forEach((function(e){return e(l,o.state)})))},X.prototype.dispatch=function(e,t){var i=this,o=I(e,t),n=o.type,a=o.payload,s={type:n,payload:a},l=this._actions[n];if(l){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(s,i.state)}))}catch(r){}var c=l.length>1?Promise.all(l.map((function(e){return e(a)}))):l[0](a);return new Promise((function(e,t){c.then((function(t){try{i._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(s,i.state)}))}catch(r){}e(t)}),(function(e){try{i._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(s,i.state,e)}))}catch(r){}t(e)}))}))}},X.prototype.subscribe=function(e,t){return E(e,this._subscribers,t)},X.prototype.subscribeAction=function(e,t){return E("function"==typeof e?{before:e}:e,this._actionSubscribers,t)},X.prototype.watch=function(t,i,o){var n=this;return e.watch((function(){return t(n.state,n.getters)}),i,Object.assign({},o))},X.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},X.prototype.registerModule=function(e,t,i){void 0===i&&(i={}),"string"==typeof e&&(e=[e]),this._modules.register(e,t),x(this,this.state,e,this._modules.get(e),i.preserveState),V(this,this.state)},X.prototype.unregisterModule=function(e){var t=this;"string"==typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){delete L(t.state,e.slice(0,-1))[e[e.length-1]]})),S(this)},X.prototype.hasModule=function(e){return"string"==typeof e&&(e=[e]),this._modules.isRegistered(e)},X.prototype.hotUpdate=function(e){this._modules.update(e),S(this,!0)},X.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(X.prototype,Y);var q=te((function(e,t){var i={};return ee(t).forEach((function(t){var o=t.key,n=t.val;i[o]=function(){var t=this.$store.state,i=this.$store.getters;if(e){var o=ie(this.$store,"mapState",e);if(!o)return;t=o.context.state,i=o.context.getters}return"function"==typeof n?n.call(this,t,i):t[n]},i[o].vuex=!0})),i})),J=te((function(e,t){var i={};return ee(t).forEach((function(t){var o=t.key,n=t.val;i[o]=function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];var o=this.$store.commit;if(e){var a=ie(this.$store,"mapMutations",e);if(!a)return;o=a.context.commit}return"function"==typeof n?n.apply(this,[o].concat(t)):o.apply(this.$store,[n].concat(t))}})),i})),Z=te((function(e,t){var i={};return ee(t).forEach((function(t){var o=t.key,n=t.val;n=e+n,i[o]=function(){if(!e||ie(this.$store,"mapGetters",e))return this.$store.getters[n]},i[o].vuex=!0})),i})),K=te((function(e,t){var i={};return ee(t).forEach((function(t){var o=t.key,n=t.val;i[o]=function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];var o=this.$store.dispatch;if(e){var a=ie(this.$store,"mapActions",e);if(!a)return;o=a.context.dispatch}return"function"==typeof n?n.apply(this,[o].concat(t)):o.apply(this.$store,[n].concat(t))}})),i}));function ee(e){return function(e){return Array.isArray(e)||C(e)}(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function te(e){return function(t,i){return"string"!=typeof t?(i=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,i)}}function ie(e,t,i){return e._modulesNamespaceMap[i]}var oe=d({name:"music",props:{tabHeight:null},emits:{"to-page":null},data:()=>({isChanging:!1,nowVal:0,time:"0:00/0:00",interval:{},isMore:!1,moreId:0,isDialog:!1,dialog:{title:"提示",content:"内容"},dialogSureCallback:{},dialogCancelCallback:{}}),computed:__spreadProps(__spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues({},q({Player:e=>e.Player,isPlaying:e=>e.isPlaying,isEnd:e=>e.isEnd})),q("Music",{playNow:e=>e.playNow,musicList:e=>e.musicList,playList:e=>e.playList})),Z("Music",["musicInfo"])),q("Setting",{setting:e=>e.setting})),Z("Setting",["isNight"])),{themeColor(){return this.isNight,"#FFF"}}),watch:{isPlaying:{handler(e,t){if(e){let e=this;this.interval=setInterval((()=>{e.changePrograss(),e.changeTime()}),500)}else clearInterval(this.interval);c("log","at components/music/music.vue:169","isPlaying",e)}},isEnd:{handler(e,t){c("log","at components/music/music.vue:175","isEnd",e),e&&this.NextSong()}}},beforeMount(){if(c("log","at components/music/music.vue:183","挂载前"),this.Player.src){let e=this;this.isPlaying&&(this.interval=setInterval((()=>{e.changePrograss(),e.changeTime()}),100))}},mounted(){this.isShowList=!0,setTimeout((()=>{this.changeTime()}),1e3)},beforeUnmount(){clearInterval(this.interval)},methods:__spreadProps(__spreadValues(__spreadValues({},J(["Play","Pause","Seek","NextSong","PreSong"])),K("Music",["playMusic"])),{convertTime(e){if("string"==typeof e){let t=e.split(":"),i=0;for(let e=t.length-1;e>=0;e--)i+=t[e]*Math.pow(60,e);return i}{let t=parseInt(e%60),i=parseInt(e%3600/60);return 0==parseInt(e/3600)?i+":"+(t<10?"0"+t:t):(i<10?"0"+i:i)+":"+(t<10?"0"+t:t)}},changeTime(){var e=this;let t=e.Player.currentTime,i=e.Player.duration;e.time=e.convertTime(t)+"/"+e.convertTime(i)},prograssChanging(){this.isChanging=!0},prograssChanged(e){this.isChanging=!1,c("log","at components/music/music.vue:249",e.detail.value);let t=e.detail.value/100*this.Player.duration;c("log","at components/music/music.vue:252",t),this.Seek(t)},changePrograss(){if(this.isChanging)return;let e=this.Player.currentTime/this.Player.duration*100;this.nowVal=e},More(e){this.isMore=!this.isMore,this.moreId=e},ShowDialog(e,t,i,o,n,a,s,l){this.isDialog=!0,this.dialog.title=e,this.dialog.content=t,this.dialog.btnSure=i,this.dialog.btnCancel=o,this.dialogSureCallback=n,this.dialogCancelCallback=a,this.dialogSureParam=s,this.dialogCancelParam=l},doSureCallback(){null!=this.dialogSureCallback&&(this.dialogSureCallback(this.dialogSureParam),this.dialogSureCallback=null),this.isDialog=!1},doCancelCallback(){null!=this.dialogCancelCallback&&(this.dialogCancelCallback(this.dialogCancelParam),this.dialogCancelCallback=null),this.isDialog=!1}})},[["render",function(t,i,o,n,a,s){const l=h(e.resolveDynamicComponent("uni-icons"),m);return e.openBlock(),e.createElementBlock("view",null,[t.musicList[0]?(e.openBlock(),e.createElementBlock("scroll-view",{key:0,class:e.normalizeClass([{"musicList-night":t.isNight},"musicList"]),"scroll-y":"true",style:e.normalizeStyle("height:calc(100% - 100rpx)")},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.musicList,((i,o)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass([t.isPlaying&&i.mid==t.playNow.mid?"music-item music-item-play":"music-item"]),key:o},[e.createElementVNode("view",{class:"music-item-info",onClick:e=>t.playMusic(i.mid)},[e.createElementVNode("text",{class:"info-title"},e.toDisplayString(i.title),1),e.createElementVNode("text",{class:"info-author"},e.toDisplayString(i.author)+"-"+e.toDisplayString(i.albums),1)],8,["onClick"]),e.createElementVNode("view",{class:"music-item-control"},[e.createVNode(l,{class:"music-item-control-icon",color:s.themeColor,type:"icon-more",customPrefix:"iconfont",size:"24",onClick:e=>s.More(i.mid)},null,8,["color","onClick"])])],2)))),128)),e.withDirectives(e.createElementVNode("text",{id:"musicListButtom"},"已经到底了~",512),[[e.vShow,t.musicList.length>=10]])],6)):(e.openBlock(),e.createElementBlock("text",{key:1,style:{display:"block",width:"100%",height:"50px","line-height":"50px","text-align":"center",color:"#FFFFFF"}},"暂无歌曲")),a.isMore?(e.openBlock(),e.createElementBlock("view",{key:2,class:e.normalizeClass(["more",t.isNight?"more-night":"more"])},[e.createElementVNode("view",{class:"more-info"},[e.createElementVNode("image",{src:t.musicInfo(a.moreId).cover,mode:"aspectFill"},null,8,["src"]),e.createElementVNode("text",null,e.toDisplayString(t.musicInfo(a.moreId).title),1)]),e.createElementVNode("view",{class:"more-btn"},[e.createVNode(l,{class:"more-btn-icon",type:"icon-add",customPrefix:"iconfont",size:"28",color:"#000"}),e.createElementVNode("text",null,"下一首播放")]),e.createElementVNode("view",{class:"more-btn"},[e.createVNode(l,{class:"more-btn-icon",type:"icon-add",customPrefix:"iconfont",size:"28",color:"#000"}),e.createElementVNode("text",null,"加入播放列表")]),e.createElementVNode("view",{class:"more-btn"},[e.createVNode(l,{class:"more-btn-icon",type:"icon-add",customPrefix:"iconfont",size:"28",color:"#000"}),e.createElementVNode("text",null,"加入歌单")]),e.createElementVNode("view",{class:"more-btn",onClick:i[0]||(i[0]=e=>s.ShowDialog("提示","是否要将此歌曲从列表中删除?此操作不会删除本地文件。","确定","取消",t.deleteMusicItem,null,t.moreIndex,null))},[e.createVNode(l,{class:"more-btn-icon",type:"icon-add",customPrefix:"iconfont",size:"28",color:"#000"}),e.createElementVNode("text",null,"删除此歌曲")]),e.createElementVNode("view",{class:"more-btn"},[e.createVNode(l,{class:"more-btn-icon",type:"icon-add",customPrefix:"iconfont",size:"28",color:"#000"}),e.createElementVNode("text",null,"查看详情")])],2)):e.createCommentVNode("",!0),a.isMore?(e.openBlock(),e.createElementBlock("view",{key:3,class:"more-other",onClick:i[1]||(i[1]=e=>a.isMore=!a.isMore)},"   ")):e.createCommentVNode("",!0),a.isDialog?(e.openBlock(),e.createElementBlock("view",{key:4,class:"dialog"},[e.createElementVNode("view",{class:"dialog-title"},[e.createElementVNode("text",null,e.toDisplayString(a.dialog.title),1)]),e.createElementVNode("view",{class:"dialog-content"},[e.createElementVNode("text",null,e.toDisplayString(a.dialog.content),1)]),e.createElementVNode("view",{class:"dialog-btns"},[e.createElementVNode("view",{class:"dialog-btn",onClick:i[2]||(i[2]=e=>s.doSureCallback())},[e.createElementVNode("text",null,e.toDisplayString(a.dialog.btnSure),1)]),e.createElementVNode("view",{class:"dialog-btn",onClick:i[3]||(i[3]=e=>s.doCancelCallback())},[e.createElementVNode("text",null,e.toDisplayString(a.dialog.btnCancel),1)])])])):e.createCommentVNode("",!0),a.isDialog?(e.openBlock(),e.createElementBlock("view",{key:5,class:"dialog-other"}," ")):e.createCommentVNode("",!0),e.createElementVNode("view",{class:e.normalizeClass(["player",[t.isNight?"player-night":"player"]]),style:e.normalizeStyle("bottom:"+o.tabHeight+"px")},[e.createElementVNode("view",{class:"player-cover"},[e.createElementVNode("image",{onClick:i[4]||(i[4]=e=>t.$emit("to-page","musicdetail")),src:t.playNow.cover,mode:"aspectFit"},null,8,["src"])]),e.createElementVNode("view",{class:"player-info"},[e.createElementVNode("view",{class:"player-info-top"},[e.createElementVNode("view",{class:"player-info-text"},[e.createElementVNode("text",null,e.toDisplayString(t.playNow.title+"-"+t.playNow.author),1)]),e.createElementVNode("view",{class:"player-info-time"},[e.createElementVNode("text",null,e.toDisplayString(a.time),1)])]),e.createElementVNode("view",{class:"player-info-bottom"},[e.createElementVNode("view",{class:"player-info-prograss"},[e.createElementVNode("slider",{value:a.nowVal,min:"0",max:"100","block-size":"8","block-color":"#FFFFFF",backgroundColor:"#d2d3d3",activeColor:"#9ae7e7",onChanging:i[5]||(i[5]=e=>s.prograssChanging()),onChange:i[6]||(i[6]=(...e)=>s.prograssChanged&&s.prograssChanged(...e))},null,40,["value"])])])]),e.createElementVNode("view",{class:"player-controls"},[t.isPlaying?(e.openBlock(),e.createBlock(l,{key:1,color:s.themeColor,type:"icon-Pause",customPrefix:"iconfont",size:"28",onClick:i[8]||(i[8]=e=>t.Pause())},null,8,["color"])):(e.openBlock(),e.createBlock(l,{key:0,color:s.themeColor,type:"icon-Play",customPrefix:"iconfont",size:"28",onClick:i[7]||(i[7]=e=>t.Play())},null,8,["color"]))])],6)])}],["__scopeId","data-v-747ad692"]]);var ne=d({name:"my",emits:{"to-page":null},data:()=>({}),computed:__spreadValues(__spreadValues(__spreadValues(__spreadValues({},q("User",{user:e=>e.user,isLogin:e=>e.isLogin})),q("Music",{myMusicLists:e=>e.myMusicLists})),q("Setting",{setting:e=>e.setting})),Z("Setting",["isNight"])),methods:__spreadProps(__spreadValues({},J("Music",["changeList"])),{startAddList(){c("log","at components/my/my.vue:91","Add new list")},ToMyLove(){this.changeList({list:"myFavor"}),this.$emit("to-page","musiclist")},ToTheRecent(){this.changeList({list:"history"}),this.$emit("to-page","musiclist")},ToMusicList(e){this.changeList({list:e}),this.myMusicLists[e],this.$emit("to-page","musiclist")}})},[["render",function(t,i,o,n,a,s){const l=h(e.resolveDynamicComponent("uni-icons"),m);return e.openBlock(),e.createElementBlock("view",{class:"my"},[e.createElementVNode("view",{class:"User-info",onClick:i[0]||(i[0]=e=>t.isLogin?t.$emit("to-page","detail"):t.$emit("to-page","login"))},[e.createElementVNode("view",{class:"info-headpic"},[e.createElementVNode("image",{src:"/static/Image/background3.png",mode:"aspectFill"})]),e.createElementVNode("view",{class:"info-content"},[e.createElementVNode("text",{class:"info-username"},e.toDisplayString(t.isLogin?t.user.username:"未登录"),1),e.createElementVNode("text",{class:"info-motto"},e.toDisplayString(t.isLogin?t.user.motto:""),1)])]),e.createElementVNode("view",{class:"LoveAndRecent-title"},[e.createElementVNode("text",null,"我喜欢的歌曲&最近播放")]),e.createElementVNode("view",{class:"LoveAndRecent"},[e.createElementVNode("view",{class:"MyLove",onClick:i[1]||(i[1]=(...e)=>s.ToMyLove&&s.ToMyLove(...e))},[e.createElementVNode("view",{class:"MyLove-cover"},[e.createVNode(l,{class:"MyLove-icon",type:"icon-heart_full",customPrefix:"iconfont",size:"120rpx",color:"#FF0000"}),e.createElementVNode("image",{class:"MyLove-back",src:t.setting.backgroundSrc,mode:"aspectFill"},null,8,["src"])]),e.createElementVNode("text",{class:"MyLove-title"},"我喜欢的歌曲")]),e.createElementVNode("view",{class:"RecentPlay"},[e.createElementVNode("view",{class:"RecentPlay-cover",onClick:i[2]||(i[2]=(...e)=>s.ToTheRecent&&s.ToTheRecent(...e))},[e.createVNode(l,{class:"RecentPlay-icon",type:"icon-history",customPrefix:"iconfont",size:"120rpx",color:"#FFFFFF"}),e.createElementVNode("image",{class:"RecentPlay-back",src:t.setting.backgroundSrc,mode:"aspectFill"},null,8,["src"])]),e.createElementVNode("text",{class:"RecentPlay-title"},"最近播放")])]),e.createElementVNode("view",{class:"MyList"},[e.createElementVNode("view",{class:"MyList-title"},[e.createElementVNode("text",null,"我创建的歌单"),e.createVNode(l,{class:"MyList-title-btn",onClick:s.startAddList,type:"icon-add",customPrefix:"iconfont",size:"1.2rem",color:"#FFFFFF"},null,8,["onClick"])]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.myMusicLists,((t,i)=>(e.openBlock(),e.createElementBlock("view",{class:"MyList-item",key:i,onClick:e=>s.ToMusicList(i)},[e.createElementVNode("view",{class:"MyList-item-cover"},[e.createElementVNode("image",{src:t.listcover,mode:"aspectFill"},null,8,["src"])]),e.createElementVNode("view",{class:"MyList-item-info"},[e.createElementVNode("text",{class:"MyList-item-info-title"},e.toDisplayString(t.listname),1),e.createElementVNode("text",{class:"MyList-item-info-describe"},e.toDisplayString(t.listinfo),1)])],8,["onClick"])))),128))])])}],["__scopeId","data-v-a66a7ba0"]]);var ae=d({name:"login",data:()=>({})},[["render",function(t,i,o,n,a,s){return e.openBlock(),e.createElementBlock("view",null," 登录组件 ")}]]);var se=d({name:"register",data:()=>({})},[["render",function(t,i,o,n,a,s){return e.openBlock(),e.createElementBlock("view",null," 注册 ")}]]);var le=d({name:"localsearch",data:()=>({noClick:!0,isSearching:!1,isFinished:!1,searchContent:"",searchInterval:{}}),computed:__spreadValues(__spreadValues({},q("Music",{all:e=>e.all,searchPrograss:e=>e.searchPrograss,searchTarget:e=>e.searchTarget})),Z("Music",["allMusicCount"])),watch:{},methods:__spreadProps(__spreadValues(__spreadValues({},K("Music",["getAll","getAllCovers"])),J("Music",["updateSearchPrograss"])),{startSearch(){this.isSearching=!0,setTimeout((()=>{this.getAll().then((()=>{c("log","at components/localsearch/localsearch.vue:54","完成扫描"),this.isSearching=!1,this.isFinished=!0,clearInterval(this.searchInterval)})).catch((()=>{c("log","at components/localsearch/localsearch.vue:60","完成扫描"),this.isSearching=!1,this.isFinished=!0}))}),500),c("log","at components/localsearch/localsearch.vue:66","我执行！")}}),beforeUnmount(){c("log","at components/localsearch/localsearch.vue:70","开始重置！"),this.updateSearchPrograss({key:"isFinish",val:!1}),this.updateSearchPrograss({key:"now",val:""}),this.updateSearchPrograss({key:"startCount",val:0}),this.updateSearchPrograss({key:"count",val:0}),this.updateSearchPrograss({key:"skipCount",val:0})}},[["render",function(t,i,o,n,a,s){const l=h(e.resolveDynamicComponent("uni-icons"),m);return e.openBlock(),e.createElementBlock("view",null,[a.isFinished?(e.openBlock(),e.createElementBlock("view",{key:1,class:"search-result"},[e.createVNode(l,{class:"search-result-icon",type:"icon-harddisk",customPrefix:"iconfont",size:"128",color:"rgb(38,193,248)"}),e.createElementVNode("text",null,"扫描完成!"),e.createElementVNode("text",null,[e.createTextVNode("本次扫描到本地音乐 "),e.createElementVNode("text",{style:{color:"#2979FF","font-size":"1.2rem"}},e.toDisplayString(t.searchPrograss.count),1),e.createTextVNode("首，其中时间过短过滤掉的歌曲有 "),e.createElementVNode("text",{style:{color:"#ff557f","font-size":"1.2rem"}},e.toDisplayString(t.searchPrograss.skipCount),1),e.createTextVNode(" 首，本地歌曲新增"),e.createElementVNode("text",{style:{color:"#ff5500","font-size":"1.2rem"}},e.toDisplayString(t.searchPrograss.count-t.searchPrograss.startCount-t.searchPrograss.skipCount),1),e.createTextVNode(" 首。")])])):(e.openBlock(),e.createElementBlock("view",{key:0,class:"search"},[e.createVNode(l,{class:"search-icon",type:"icon-harddisk",customPrefix:"iconfont",size:"128",color:"rgb(38,193,248)"}),e.createElementVNode("text",{class:"search-text"},[e.createTextVNode(e.toDisplayString(a.isSearching?"正在扫描":"未进行扫描"),1),e.withDirectives(e.createElementVNode("text",{class:"loading"},null,512),[[e.vShow,a.isSearching]])]),e.createElementVNode("button",{type:"default",plain:"true",loading:a.isSearching,disabled:a.isSearching,onClick:i[0]||(i[0]=(...e)=>s.startSearch&&s.startSearch(...e))},"开始本地扫描",8,["loading","disabled"])]))])}],["__scopeId","data-v-3940367a"]]);var ce=d({components:{login:ae,register:se,music:oe,my:ne,search:d({name:"search",props:{searchRes:null},data:()=>({})},[["render",function(t,i,o,n,a,s){return e.openBlock(),e.createElementBlock("view",null,[e.createElementVNode("scroll-view",{"scroll-y":"true"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.searchRes,((t,i)=>(e.openBlock(),e.createElementBlock("view",{key:i},[e.createElementVNode("text",null,e.toDisplayString(t.title),1)])))),128))])])}]]),localsearch:le,detail:d({name:"detail",props:{},data:()=>({})},[["render",function(t,i,o,n,a,s){return e.openBlock(),e.createElementBlock("view",null," 详情 ")}]]),musicdetail:d({name:"musicdetail",props:{tabHeight:Number,statusHeight:Number},data:()=>({vol:100,isChanging:!1,nowVal:0,time:"0:00/0:00",interval:{}}),beforeMount(){if(c("log","at components/musicdetail/musicdetail.vue:64","挂载前"),this.Player.src){let e=this;e.changePrograss(),e.changeTime(),this.isPlaying&&(this.interval=setInterval((()=>{e.changePrograss(),e.changeTime()}),100))}},mounted(){this.getVolume()},computed:__spreadValues(__spreadValues({},q({isPlaying:e=>e.isPlaying,isEnd:e=>e.isEnd,Player:e=>e.Player,playMode:e=>e.playMode})),q("Music",{playNow:e=>e.playNow,musicList:e=>e.musicList,nowLrc:e=>e.nowLrc})),watch:{isPlaying:{handler(e,t){if(e){let e=this;this.interval=setInterval((()=>{e.changePrograss(),e.changeTime()}),500)}else clearInterval(this.interval);c("log","at components/musicdetail/musicdetail.vue:108","isPlaying",e)}},isEnd:{handler(e,t){c("log","at components/musicdetail/musicdetail.vue:114","isEnd",e),e&&this.NextSong()}}},methods:__spreadProps(__spreadValues({},J(["Play","Pause","changeMode","Seek","PreSong","NextSong"])),{getVolume(){let e=plus.device.getVolume();c("log","at components/musicdetail/musicdetail.vue:139",e),this.vol=100*e},setVolume(e){let t=e.detail.value/100;plus.device.setVolume(t),c("log","at components/musicdetail/musicdetail.vue:148","设置音量成功")},convertTime(e){if("string"==typeof e){let t=e.split(":"),i=0;for(let e=t.length-1;e>=0;e--)i+=t[e]*Math.pow(60,e);return i}{let t=parseInt(e%60),i=parseInt(e%3600/60);return 0==parseInt(e/3600)?i+":"+(t<10?"0"+t:t):(i<10?"0"+i:i)+":"+(t<10?"0"+t:t)}},changeTime(){var e=this;let t=e.Player.currentTime,i=e.Player.duration;e.time=e.convertTime(t)+"/"+e.convertTime(i)},prograssChanging(){this.isChanging=!0},prograssChanged(e){this.isChanging=!1,c("log","at components/musicdetail/musicdetail.vue:183",e.detail.value);let t=e.detail.value/100*this.Player.duration;c("log","at components/musicdetail/musicdetail.vue:186",t),this.Seek(t)},changePrograss(){if(this.isChanging)return;let e=this.Player.currentTime/this.Player.duration*100;this.nowVal=e}})},[["render",function(t,i,o,n,a,s){const l=h(e.resolveDynamicComponent("uni-icons"),m);return e.openBlock(),e.createElementBlock("view",null,[e.createElementVNode("view",{class:"music-detail",style:e.normalizeStyle("height:calc(100vh - "+(44+o.statusHeight)+"px)")},[e.createElementVNode("view",{class:"music-detail-info"},[e.createElementVNode("view",{class:"music-detail-info-cover"},[e.createElementVNode("image",{src:t.playNow.cover,mode:""},null,8,["src"])]),e.createElementVNode("view",{class:"music-detail-info-text"},[e.createElementVNode("text",{class:"music-detail-info-text-title"},e.toDisplayString(t.playNow.title),1),e.createElementVNode("text",{class:"music-detail-info-text-author"},e.toDisplayString(t.playNow.author),1),e.createElementVNode("text",{class:"music-detail-info-text-lrc"},e.toDisplayString(t.nowLrc),1)])]),e.createElementVNode("view",{class:"music-detail-controls"},[e.createElementVNode("view",{class:"music-detail-controls-prograss"},[e.createElementVNode("slider",{value:a.nowVal,min:"0",max:"100","block-size":"8","block-color":"#FFFFFF",backgroundColor:"#d2d3d3",activeColor:"#9ae7e7",onChanging:i[0]||(i[0]=e=>s.prograssChanging()),onChange:i[1]||(i[1]=(...e)=>s.prograssChanged&&s.prograssChanged(...e))},null,40,["value"]),e.createElementVNode("view",{class:"music-detail-controls-prograss-label"},[e.createElementVNode("text",{class:"music-detail-controls-prograss-label-now"},e.toDisplayString(s.convertTime(t.Player.currentTime)),1),e.createElementVNode("text",{class:"music-detail-controls-prograss-label-dur"},e.toDisplayString(s.convertTime(t.Player.duration)),1)])]),e.createElementVNode("view",{class:"music-detail-controls-main"},[e.createVNode(l,{type:"icon-"+t.playMode,customPrefix:"iconfont",size:"28",color:"white",onClick:i[2]||(i[2]=e=>t.changeMode())},null,8,["type"]),e.createVNode(l,{type:"icon-presong",customPrefix:"iconfont",size:"28",color:"white",onClick:i[3]||(i[3]=e=>t.PreSong())}),t.isPlaying?(e.openBlock(),e.createBlock(l,{key:1,type:"icon-Pause",customPrefix:"iconfont",size:"56",color:"white",onClick:t.Pause},null,8,["onClick"])):(e.openBlock(),e.createBlock(l,{key:0,type:"icon-Play",customPrefix:"iconfont",size:"56",color:"white",onClick:i[4]||(i[4]=e=>t.Play())})),e.createVNode(l,{type:"icon-nextsong",customPrefix:"iconfont",size:"28",color:"white",onClick:i[5]||(i[5]=e=>t.NextSong())}),e.createVNode(l,{type:"icon-playlist",customPrefix:"iconfont",size:"28",color:"white"})])])],4)])}],["__scopeId","data-v-58238f75"]]),musiclist:d({name:"musiclist",data:()=>({isChanging:!1,nowVal:0,time:"0:00/0:00",interval:{},isMore:!1,moreId:0,isDialog:!1,dialog:{title:"提示",content:"内容"},dialogSureCallback:{},dialogCancelCallback:{}}),computed:__spreadProps(__spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues({},q("Music",{myFavorList:e=>e.myFavorList,myMusicLists:e=>e.myMusicLists,historyList:e=>e.historyList,nowList:e=>e.nowList,playNow:e=>e.playNow,musicListFromX:e=>e.musicList})),Z("Music",["musicInfo"])),q("Setting",{setting:e=>e.setting})),Z("Setting",["isNight"])),q({Player:e=>e.Player,isPlaying:e=>e.isPlaying,isEnd:e=>e.isEnd})),{themeColor(){return this.isNight,"#FFF"},musicList(){return"number"==typeof this.nowList?this.myMusicLists[this.nowList]:"myFavor"==this.nowList?this.myFavorList:"history"==this.nowList?this.historyList:void 0},list(){return"number"==typeof this.nowList?this.myMusicLists[this.nowList].list:"myFavor"==this.nowList?this.myFavorList.list:"history"==this.nowList?this.historyList.list:void 0}}),watch:{isPlaying:{handler(e,t){if(e){let e=this;this.interval=setInterval((()=>{e.changePrograss(),e.changeTime()}),500)}else clearInterval(this.interval);c("log","at components/musiclist/musiclist.vue:202","isPlaying",e)}},isEnd:{handler(e,t){c("log","at components/musiclist/musiclist.vue:208","isEnd",e),e&&this.NextSong()}}},methods:__spreadProps(__spreadValues(__spreadValues({},J(["Play","Pause","Seek","NextSong","PreSong"])),K("Music",["playMusic"])),{convertTime(e){if("string"==typeof e){let t=e.split(":"),i=0;for(let e=t.length-1;e>=0;e--)i+=t[e]*Math.pow(60,e);return i}{let t=parseInt(e%60),i=parseInt(e%3600/60);return 0==parseInt(e/3600)?i+":"+(t<10?"0"+t:t):(i<10?"0"+i:i)+":"+(t<10?"0"+t:t)}},changeTime(){var e=this;let t=e.Player.currentTime,i=e.Player.duration;e.time=e.convertTime(t)+"/"+e.convertTime(i)},prograssChanging(){this.isChanging=!0},prograssChanged(e){this.isChanging=!1,c("log","at components/musiclist/musiclist.vue:259",e.detail.value);let t=e.detail.value/100*this.Player.duration;c("log","at components/musiclist/musiclist.vue:262",t),this.Seek(t)},changePrograss(){if(this.isChanging)return;let e=this.Player.currentTime/this.Player.duration*100;this.nowVal=e},More(e){this.isMore=!this.isMore,this.moreId=e},ShowDialog(e,t,i,o,n,a,s,l){this.isDialog=!0,this.dialog.title=e,this.dialog.content=t,this.dialog.btnSure=i,this.dialog.btnCancel=o,this.dialogSureCallback=n,this.dialogCancelCallback=a,this.dialogSureParam=s,this.dialogCancelParam=l},doSureCallback(){null!=this.dialogSureCallback&&(this.dialogSureCallback(this.dialogSureParam),this.dialogSureCallback=null),this.isDialog=!1},doCancelCallback(){null!=this.dialogCancelCallback&&(this.dialogCancelCallback(this.dialogCancelParam),this.dialogCancelCallback=null),this.isDialog=!1}}),beforeMount(){if(c("log","at components/musiclist/musiclist.vue:309","挂载前"),this.Player.src){let e=this;this.isPlaying&&(this.interval=setInterval((()=>{e.changePrograss(),e.changeTime()}),100))}},mounted(){this.isShowList=!0,setTimeout((()=>{this.changeTime()}),1e3)},beforeUnmount(){clearInterval(this.interval)}},[["render",function(t,i,o,n,a,s){const l=h(e.resolveDynamicComponent("uni-icons"),m);return e.openBlock(),e.createElementBlock("view",null,[e.createElementVNode("view",{class:"musicListInfo"},[e.createElementVNode("view",{class:"musicListInfo-left"},[e.createElementVNode("image",{class:"musicListInfo-cover",src:s.musicList.listcover,mode:"aspectFill"},null,8,["src"])]),e.createElementVNode("view",{class:"musicListInfo-right"},[e.createElementVNode("text",{class:"musicListInfo-title"},e.toDisplayString(s.musicList.listname),1),e.createElementVNode("text",{class:"musicListInfo-descript"},e.toDisplayString(s.musicList.listinfo),1)])]),e.createElementVNode("view",{class:"musicListControls"}," 一些操作按钮 "),s.list[0]?(e.openBlock(),e.createElementBlock("scroll-view",{key:0,class:e.normalizeClass([{"musicList-night":t.isNight},"musicList"]),"scroll-y":"true",style:e.normalizeStyle("height:calc(100% - 100rpx)")},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.list,((i,o)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass([t.isPlaying&&i.mid==t.playNow.mid?"music-item music-item-play":"music-item"]),key:o},[e.createElementVNode("view",{class:"music-item-info",onClick:e=>t.playMusic(i.mid)},[e.createElementVNode("text",{class:"info-title"},e.toDisplayString(i.title),1),e.createElementVNode("text",{class:"info-author"},e.toDisplayString(i.author)+"-"+e.toDisplayString(i.albums),1)],8,["onClick"]),e.createElementVNode("view",{class:"music-item-control"},[e.createVNode(l,{class:"music-item-control-icon",color:s.themeColor,type:"icon-more",customPrefix:"iconfont",size:"24",onClick:e=>s.More(i.mid)},null,8,["color","onClick"])])],2)))),128)),e.withDirectives(e.createElementVNode("text",{id:"musicListButtom"},"已经到底了~",512),[[e.vShow,s.list.length>=10]])],6)):(e.openBlock(),e.createElementBlock("text",{key:1,style:{display:"block",width:"100%",height:"50px","line-height":"50px","text-align":"center",color:"#FFFFFF"}},"暂无歌曲")),a.isMore?(e.openBlock(),e.createElementBlock("view",{key:2,class:e.normalizeClass(["more",t.isNight?"more-night":"more"])},[e.createElementVNode("view",{class:"more-info"},[e.createElementVNode("image",{src:t.musicInfo(a.moreId).cover,mode:"aspectFill"},null,8,["src"]),e.createElementVNode("text",null,e.toDisplayString(t.musicInfo(a.moreId).title),1)]),e.createElementVNode("view",{class:"more-btn"},[e.createVNode(l,{class:"more-btn-icon",type:"icon-add",customPrefix:"iconfont",size:"28",color:"#000"}),e.createElementVNode("text",null,"下一首播放")]),e.createElementVNode("view",{class:"more-btn"},[e.createVNode(l,{class:"more-btn-icon",type:"icon-add",customPrefix:"iconfont",size:"28",color:"#000"}),e.createElementVNode("text",null,"加入播放列表")]),e.createElementVNode("view",{class:"more-btn"},[e.createVNode(l,{class:"more-btn-icon",type:"icon-add",customPrefix:"iconfont",size:"28",color:"#000"}),e.createElementVNode("text",null,"加入歌单")]),e.createElementVNode("view",{class:"more-btn",onClick:i[0]||(i[0]=e=>s.ShowDialog("提示","是否要将此歌曲从列表中删除?此操作不会删除本地文件。","确定","取消",t.deleteMusicItem,null,t.moreIndex,null))},[e.createVNode(l,{class:"more-btn-icon",type:"icon-add",customPrefix:"iconfont",size:"28",color:"#000"}),e.createElementVNode("text",null,"删除此歌曲")]),e.createElementVNode("view",{class:"more-btn"},[e.createVNode(l,{class:"more-btn-icon",type:"icon-add",customPrefix:"iconfont",size:"28",color:"#000"}),e.createElementVNode("text",null,"查看详情")])],2)):e.createCommentVNode("",!0),a.isMore?(e.openBlock(),e.createElementBlock("view",{key:3,class:"more-other",onClick:i[1]||(i[1]=e=>a.isMore=!a.isMore)},"   ")):e.createCommentVNode("",!0),a.isDialog?(e.openBlock(),e.createElementBlock("view",{key:4,class:"dialog"},[e.createElementVNode("view",{class:"dialog-title"},[e.createElementVNode("text",null,e.toDisplayString(a.dialog.title),1)]),e.createElementVNode("view",{class:"dialog-content"},[e.createElementVNode("text",null,e.toDisplayString(a.dialog.content),1)]),e.createElementVNode("view",{class:"dialog-btns"},[e.createElementVNode("view",{class:"dialog-btn",onClick:i[2]||(i[2]=e=>s.doSureCallback())},[e.createElementVNode("text",null,e.toDisplayString(a.dialog.btnSure),1)]),e.createElementVNode("view",{class:"dialog-btn",onClick:i[3]||(i[3]=e=>s.doCancelCallback())},[e.createElementVNode("text",null,e.toDisplayString(a.dialog.btnCancel),1)])])])):e.createCommentVNode("",!0),a.isDialog?(e.openBlock(),e.createElementBlock("view",{key:5,class:"dialog-other"}," ")):e.createCommentVNode("",!0),e.createElementVNode("view",{class:e.normalizeClass(["player",[t.isNight?"player-night":"player"]])},[e.createElementVNode("view",{class:"player-cover"},[e.createElementVNode("image",{onClick:i[4]||(i[4]=e=>t.$emit("to-page","musicdetail")),src:t.playNow.cover,mode:"aspectFit"},null,8,["src"])]),e.createElementVNode("view",{class:"player-info"},[e.createElementVNode("view",{class:"player-info-top"},[e.createElementVNode("view",{class:"player-info-text"},[e.createElementVNode("text",null,e.toDisplayString(t.playNow.title+"-"+t.playNow.author),1)]),e.createElementVNode("view",{class:"player-info-time"},[e.createElementVNode("text",null,e.toDisplayString(a.time),1)])]),e.createElementVNode("view",{class:"player-info-bottom"},[e.createElementVNode("view",{class:"player-info-prograss"},[e.createElementVNode("slider",{value:a.nowVal,min:"0",max:"100","block-size":"8","block-color":"#FFFFFF",backgroundColor:"#d2d3d3",activeColor:"#9ae7e7",onChanging:i[5]||(i[5]=e=>s.prograssChanging()),onChange:i[6]||(i[6]=(...e)=>s.prograssChanged&&s.prograssChanged(...e))},null,40,["value"])])])]),e.createElementVNode("view",{class:"player-controls"},[t.isPlaying?(e.openBlock(),e.createBlock(l,{key:1,color:s.themeColor,type:"icon-Pause",customPrefix:"iconfont",size:"28",onClick:i[8]||(i[8]=e=>t.Pause())},null,8,["color"])):(e.openBlock(),e.createBlock(l,{key:0,color:s.themeColor,type:"icon-Play",customPrefix:"iconfont",size:"28",onClick:i[7]||(i[7]=e=>t.Play())},null,8,["color"]))])],2)])}],["__scopeId","data-v-560acab2"]])},data:()=>({nowPage:{},LastPid:0,Tabbars:[],navPaddingHeight:"",mainHeight:"",isSetting:!1,searchRes:"",searchContent:"",isQuit:!1,isToPage:!0,tabHeight:60,statusBarHeight:0,playerHeight:0}),beforeMount(){this.nowPage=this.Pages.find((e=>0==e.PID)),this.Tabbars=this.Pages.filter((e=>e.isTabbar))},mounted(){this.autoHeight()},onLoad(){this.Init()},onReady(){this.$refs.ani.init({duration:250,timingFunction:"linear",delay:0,transformOrigin:"50% 50%"})},onPullDownRefresh(){},onBackPress(e){let t=this;t.isQuit&&(this.setLocalData(),this.saveLastMusic(),c("log","at pages/index/index.vue:183","退出"),t.AppQuit());return-1!=[0,1].indexOf(this.nowPage.PID)?uni.showToast({icon:"none",duration:1500,title:"再按一次退出！",position:"bottom",success(){t.isQuit=!0,setTimeout((()=>{t.isQuit=!1,c("log","at pages/index/index.vue:198","重置退出")}),1500)}}):t.Back(),this.isSetting&&(this.isSetting=!1,c("log","at pages/index/index.vue:208","退出设置")),!0},watch:{searchContent:{handler(e,t){""!=e&&this.Search()}},playNow:{handler(e,t){if(c("log","at pages/index/index.vue:225","player变化"),null!=e.src&&-1!=e.mid&&e.src!=t.src){let e=this.playNow.title,t=this.playNow.cover,i=this.playNow.src,o=this.playNow.mid;setTimeout((()=>{this.isNeedCover({cover:t,title:e,src:i,mid:o}).then((()=>{c("log","at pages/index/index.vue:236","获取完成")})).catch((()=>{c("log","at pages/index/index.vue:239","不需要进行转cover")}))}),1e3),c("log","at pages/index/index.vue:242","我执行了")}}}},computed:__spreadProps(__spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues({},q({pages:e=>e.pages,Pages:e=>e.Pages,Player:e=>e.Player})),Z("Music",["searchByName"])),q("User",{isLogin:e=>e.isLogin,user:e=>e.user})),q("Setting",{setting:e=>e.setting})),Z("Setting",["isNight"])),q("Music",{playNow:e=>e.playNow,lastMusic:e=>e.pages})),{musicHeight(){return"height:calc(100vh - "+(uni.getSystemInfoSync().statusBarHeight+44+this.tabHeight+this.playerHeight)+"px)"}}),methods:__spreadProps(__spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues({},K("User",["login","register"])),J("Setting",["toggleNight"])),K("Music",["search","getCover","isNeedCover"])),J("Music",["saveLastMusic","getLastMusic","getLocalData","setLocalData","updateMusicList"])),J(["InitPlayer"])),{Init(){uni.showLoading({mask:!0,title:"初始化中..."}),this.getLocalData(),this.updateMusicList(),this.getLastMusic(),this.InitPlayer(),uni.hideLoading()},ToPage(e){this.isSetting=!1;let t=e;if("string"==typeof t&&(t=this.pages[t]),t==this.nowPage.PID)return;this.LastPid=this.nowPage.PID;let i=this.Pages.find((e=>e.PID==t));this.nowPage=i,this.isToPage=!1,setTimeout((()=>{this.isToPage=!0}),0),c("log","at pages/index/index.vue:313","进入"+t)},Back(){let e=this.LastPid,t=this.Pages.find((t=>t.PID==e));this.nowPage=t,this.isToPage=!1,setTimeout((()=>{this.isToPage=!0}),0),c("log","at pages/index/index.vue:325","返回"+e)},Edit(){c("log","at pages/index/index.vue:329","开启编辑模式")},SunOrNight(){this.toggleNight(),this.isSetting=!1,this.isToPage=!1,setTimeout((()=>{this.isToPage=!0}),25)},AppQuit(){plus.runtime.quit()},AppRestart(){plus.runtime.restart()},handleFunc(e,t){const i=this;let o=this.$options.methods;t instanceof Array?o[e].bind(i,...t)():o[e].bind(i,t)()},autoHeight(){uni.createSelectorQuery().select(".tab-bar").fields({size:!0},(e=>{e&&(this.navPaddingHeight="height:"+(uni.getSystemInfoSync().statusBarHeight+44)+"px",this.mainHeight="height:calc(100vh - "+(uni.getSystemInfoSync().statusBarHeight+44+e.height)+"px)",this.statusBarHeight=uni.getSystemInfoSync().statusBarHeight,this.tabHeight=e.height)})).exec(),uni.createSelectorQuery().select(".player").fields({size:!0},(e=>{e&&(this.playerHeight=e.height)})).exec()},ani(){this.$refs.ani.step({opacity:1},{duration:500,timingFunction:"linear",delay:0,transformOrigin:"50% 50%"}),this.$refs.ani.run((()=>{c("log","at pages/index/index.vue:401","动画执行")}))},notification(){plus.android.importClass("android.app.Notification")},Search(){this.searchRes=this.searchByName(this.searchContent)},toggleSetting(){this.isSetting=!this.isSetting},toDetail(){this.isLogin?this.ToPage("detail"):this.ToPage("login")}})},[["render",function(t,i,o,n,a,s){const l=h(e.resolveDynamicComponent("uni-nav-bar"),p),c=h(e.resolveDynamicComponent("uni-transition"),v),r=h(e.resolveDynamicComponent("uni-icons"),m);return e.openBlock(),e.createElementBlock("view",{class:"content"},[e.createVNode(l,{backgroundColor:"rgba(255,255,255,0)",fixed:"true",shadow:"false",statusBar:"true",border:"false",title:a.nowPage.title,leftIcon:null!=a.nowPage.navLeft?a.nowPage.navLeft.icon:void 0,rightIcon:null!=a.nowPage.navRight?a.nowPage.navRight.icon:void 0,onClickLeft:i[1]||(i[1]=e=>a.nowPage.navLeft?s.handleFunc(a.nowPage.navLeft.event,a.nowPage.navLeft.parms):""),onClickRight:i[2]||(i[2]=e=>a.nowPage.navRight?s.handleFunc(a.nowPage.navRight.event,a.nowPage.navRight.parms):""),leftWidth:null!=a.nowPage.navLeft?a.nowPage.navLeft.width:void 0,rightWidth:null!=a.nowPage.navRight?a.nowPage.navRight.width:void 0,dark:t.isNight},{default:e.withCtx((()=>[null===a.nowPage.title?(e.openBlock(),e.createElementBlock("view",{key:0,style:{display:"flex","flex-direction":"row","justify-content":"center","align-items":"center",width:"100%",height:"100%"}},[e.withDirectives(e.createElementVNode("input",{type:"text",style:{display:"block",margin:"0",padding:"1rpx 1em 1rpx 0","background-color":"rgba(255,255,255,0.3)",color:"#EEE",width:"100%",height:"calc(100% - 30rpx)","border-radius":"30rpx","text-indent":"1em"},"onUpdate:modelValue":i[0]||(i[0]=e=>a.searchContent=e),placeholder:"按关键词搜索歌曲","placeholder-style":"color:rgba(255,255,255,0.5)"},null,512),[[e.vModelText,a.searchContent]])])):e.createCommentVNode("",!0)])),_:1},8,["title","leftIcon","rightIcon","leftWidth","rightWidth","dark"]),e.createElementVNode("view",{class:e.normalizeClass([t.isNight?"nav-padding-night":"nav-padding"]),style:e.normalizeStyle(a.navPaddingHeight)},[e.createElementVNode("image",{src:t.setting.backgroundSrc,style:e.normalizeStyle(t.setting.backgroundStyle),mode:"aspectFill"},null,12,["src"])],6),e.createElementVNode("view",{class:e.normalizeClass([t.isNight?"Background-night":"Background"])},[e.createElementVNode("image",{src:t.setting.backgroundSrc,style:e.normalizeStyle(t.setting.backgroundStyle),mode:"aspectFill"},null,12,["src"])],2),e.createElementVNode("view",{class:e.normalizeClass([t.isNight?"main-night":"main"]),style:e.normalizeStyle(0==a.nowPage.PID?s.musicHeight:a.nowPage.hasTabbar?a.mainHeight:"height:calc(100vh - "+(44+a.statusBarHeight)+"px)")},[e.createVNode(c,{ref:"ani",styles:{opacity:"1"},show:a.isToPage,onChange:s.ani},{default:e.withCtx((()=>[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(a.nowPage.pageName),{onToPage:s.ToPage,tabHeight:a.tabHeight,statusHeight:a.statusBarHeight,ref:a.nowPage.pageName,searchRes:a.searchRes},null,8,["onToPage","tabHeight","statusHeight","searchRes"]))])),_:1},8,["show","onChange"])],6),e.createVNode(c,{"mode-class":"slide-left",show:a.isSetting,class:e.normalizeClass([{"setting-night":t.isNight},"setting"])},{default:e.withCtx((()=>[e.createElementVNode("scroll-view",{"scroll-y":"true"},[e.createElementVNode("view",{class:"setting-user"},[e.createElementVNode("image",{class:e.normalizeClass([{"setting-user-background-night":t.isNight,"setting-user-background":!t.isNight}]),src:"/static/Image/background1.jpg",mode:"aspectFill"},null,2),e.createElementVNode("image",{class:"setting-user-headpic",src:"/static/Image/background3.png",mode:"aspectFill",onClick:i[3]||(i[3]=e=>s.toDetail())}),e.createElementVNode("text",{class:"setting-user-name"},e.toDisplayString(t.isLogin?t.user.username:"未登录"),1)]),e.createElementVNode("view",{class:e.normalizeClass(t.isNight?"setting-div-night":"setting-div")},[e.createElementVNode("view",{class:"btn",onClick:i[4]||(i[4]=e=>s.ToPage("localsearch"))},[e.createElementVNode("text",null,"扫描本地音乐")])],2),e.createElementVNode("view",{class:e.normalizeClass(t.isNight?"setting-div-night":"setting-div")},[e.createElementVNode("view",{class:"btn"},[e.createElementVNode("text",null,"夜间模式"),e.createElementVNode("switch",{color:"#bfbfbf",checked:t.isNight,onChange:i[5]||(i[5]=e=>s.SunOrNight())},null,40,["checked"])])],2),e.createElementVNode("view",{class:e.normalizeClass(t.isNight?"setting-div-night":"setting-div")},null,2),e.createElementVNode("view",{class:e.normalizeClass(t.isNight?"setting-div-night":"setting-div")},[e.createElementVNode("view",{class:"btn",onClick:i[6]||(i[6]=e=>s.AppRestart())},[e.createElementVNode("text",null,"重启应用")]),e.createElementVNode("view",{class:"btn",onClick:i[7]||(i[7]=e=>s.AppQuit())},[e.createElementVNode("text",null,"退出")])],2)])])),_:1},8,["show","class"]),e.createVNode(c,{"mode-class":"fade",show:a.isSetting,class:"setting-other",onClick:i[8]||(i[8]=e=>s.toggleSetting())},null,8,["show"]),e.withDirectives(e.createElementVNode("view",{class:e.normalizeClass([t.isNight?"tab-bar-night":"tab-bar"])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.Tabbars,(t=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass([{"tab-item-active":t.PID==a.nowPage.PID},"tab-item"]),key:t.PID,onClick:e=>s.ToPage(t.PID)},[e.createVNode(r,{type:t.icon,customPrefix:"iconfont",size:"24",class:e.normalizeClass([{"tab-item-icon-active":t.PID==a.nowPage.PID},"tab-item-icon"])},null,8,["type","class"]),e.createElementVNode("text",null,e.toDisplayString(t.title),1)],10,["onClick"])))),128))],2),[[e.vShow,a.nowPage.hasTabbar]])])}],["__scopeId","data-v-13b7c51a"]]);"undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((i=>t.resolve(e()).then((()=>i))),(i=>t.resolve(e()).then((()=>{throw i}))))}),uni.restoreGlobal&&uni.restoreGlobal(i,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),__definePage("pages/index/index",ce);const re={onLaunch:function(){c("log","at App.vue:4","App Launch")},onShow:function(){c("log","at App.vue:7","App Show")},onHide:function(){c("log","at App.vue:10","App Hide")}};var de={noMoreClick:function(e,t){let i=this;i.noClick&&(i.noClick=!1,t&&""!==t?e(t):e(),setTimeout((()=>{i.noClick=!0}),2e3))}};const ue=[{uid:0,username:"wh131462",nickname:"VueMonopoly",motto:"勇敢做自己~",password:"123456",Rtime:new Date("1998/11/22 22:55:55")}];var me={getUser:async e=>(await he(100),await ue.find((function(e){return e.username===u}))),async login(e,t){await he(100);let i={},o=ue.find((function(t){return t.username===e}));return e==o.username?t==o.password?(i.uid=o.uid,i.state=1):(i.state=-1,i.err="Password Error!"):(i.state=-1,err="Non-User"),JSON.stringify(i)},async register(e,t){await he(100);let i={},o=ue.length,n=(new Date).now();return ue.push({uid:o,username:e,nickname:"",motto:"",password:t,Rtime:n}),i.uid=o,i.state=1,JSON.stringify(i)}};function he(e){return new Promise((t=>{setTimeout(t,e)}))}const ge=new X({state:{pages:{music:0,my:1,login:2,register:3,search:4,localsearch:5,detail:6,musicdetail:7,musiclist:8},Pages:[{PID:0,title:"音乐",icon:"icon-music",pageName:"music",navLeft:{icon:"icon-list",text:"设置",width:void 0,event:"toggleSetting",parms:void 0},navRight:{icon:"icon-search",text:"搜索",width:void 0,event:"ToPage",parms:"search"},isTabbar:!0,hasTabbar:!0},{PID:1,title:"我的",icon:"icon-my",pageName:"my",navLeft:void 0,navRight:void 0,isTabbar:!0,hasTabbar:!0},{PID:2,title:"登录",icon:void 0,pageName:"login",navLeft:{icon:"icon-back",text:"返回",width:void 0,event:"Back",parms:void 0},navRight:void 0,isTabbar:!1,hasTabbar:!1},{PID:3,title:"注册",icon:void 0,pageName:"register",navLeft:{icon:"icon-back",text:"返回",width:void 0,event:"Back",parms:void 0},navRight:void 0,isTabbar:!1,hasTabbar:!1},{PID:4,title:null,icon:void 0,pageName:"search",navLeft:{icon:"icon-back",text:"返回",width:"50rpx",event:"Back",parms:void 0},navRight:{icon:"icon-search",text:"搜索",width:"50rpx",event:"Search",parms:void 0},isTabbar:!1,hasTabbar:!1},{PID:5,title:"扫描本地音乐",icon:void 0,pageName:"localsearch",navLeft:{icon:"icon-back",text:"返回",width:void 0,event:"Back",parms:void 0},navRight:void 0,isTabbar:!1,hasTabbar:!1},{PID:6,title:void 0,icon:void 0,pageName:"detail",navLeft:{icon:"icon-back",text:"返回",width:void 0,event:"Back",parms:void 0},navRight:{icon:void 0,text:"编辑",width:void 0,event:"Edit",parms:void 0},isTabbar:!1,hasTabbar:!1},{PID:7,title:"音乐详情",icon:void 0,pageName:"musicdetail",navLeft:{icon:"icon-back",text:"返回",width:void 0,event:"Back",parms:void 0},navRight:void 0,isTabbar:!1,hasTabbar:!1},{PID:8,title:void 0,icon:void 0,pageName:"musiclist",navLeft:{icon:"icon-back",text:"返回",width:void 0,event:"Back",parms:void 0},navRight:{icon:"icon-edit",text:"编辑",width:void 0,event:"Edit",parms:void 0},isTabbar:!1,hasTabbar:!1}],playModes:["listloop","random","singleloop","order"],Player:{},isPlaying:!1,isEnd:!1,playMode:"listloop",defaultMusic:{mid:-1,title:"君に最後の口づけを",author:"majiko",albums:"未知",duration:"",src:"http://131462.wang/music/majiko - 君に最後の口づけを.mp3",cover:"../../static/Image/cover.png",lrc:"https://131462.wang/lrc/%E5%90%9B%E3%81%AB%E6%9C%80%E5%BE%8C%E3%81%AE%E5%8F%A3%E3%81%A5%E3%81%91%E3%82%92.lrc"}},getters:{},mutations:{InitPlayer(e){e.Player=uni.getBackgroundAudioManager(),null!=e.Music.lastMusic.src?(e.Music.playNow=e.Music.lastMusic,e.Player.src=e.Music.lastMusic.src):(e.Music.playNow=e.defaultMusic,e.Player.src=e.defaultMusic.src);let t=e.Music.historyList.list.indexOf(e.Music.playNow);-1!=t&&e.Music.historyList.list.splice(t,1),e.Music.historyList.list.unshift(e.Music.playNow),e.Player.autoplay=!1,e.Player.volume=0,setTimeout((()=>{e.Player.volume=1,e.Player.pause(),e.Player.seek(0)}),1e3),e.Player.onPlay((()=>{e.isPlaying=!0,e.isEnd=!1,c("log","at store/index.js:270","Player playing...")})),e.Player.onPause((function(){e.isPlaying=!1,c("log","at store/index.js:274","Player paused...")})),e.Player.onStop((function(){e.isPlaying=!1,c("log","at store/index.js:279","Player stop.")})),e.Player.onEnded((function(){e.isEnd=!0,c("log","at store/index.js:284","Player end.")})),e.Player.onError((e=>{uni.showToast({icon:"none",duration:750,position:"bottom",title:e.errCode+" 由于"+e.errMsg+"无法播放此歌曲，请播放其他歌曲。"}),e.errCode=-99,c("log","at store/index.js:296","Player Err:"+e.errMsg+" ErrCode:"+e.errCode)})),c("log","at store/index.js:298","Player initialized.")},Play(e){e.Player.play()},Pause(e){e.Player.pause()},Seek(e,t){e.Player.seek(t)},changeMode(e){e.playMode=e.playModes[(e.playModes.indexOf(e.playMode)+1)%e.playModes.length]},PreSong(e){if(e.Music.musicList.length<=0)return;let t=e.Music.musicList.length,i=e.Music.playNow.mid,o=e.Music.musicList.findIndex((e=>e.mid==i));switch(e.playMode){case"order":e.Player.loop=!1,0==o?(e.Player.pause(),e.isPlaying=!1):(e.Music.playNow=e.Music.musicList[o-1<0?0:o-1],e.isPlaying=!1,e.Player.src=e.Music.playNow.src,e.Player.play(),e.isPlaying=!0);break;case"listloop":e.Player.loop=!1,e.Music.playNow=e.Music.musicList[o-1<0?0:o-1],e.isPlaying=!1,e.Player.src=e.Music.playNow.src,e.Player.play(),e.isPlaying=!0;break;case"random":e.Player.loop=!1;let i=Math.floor(Math.random()*t);e.Music.playNow=e.Music.musicList[i],e.isPlaying=!1,e.Player.src=e.Music.playNow.src,e.Player.play(),e.isPlaying=!0;break;case"singleloop":e.Player.loop=!0,e.Player.src=e.Music.playNow.src,e.Player.play(),e.isPlaying=!0}let n=e.Music.historyList.list.indexOf(e.Music.playNow);-1!=n&&e.Music.historyList.list.splice(n,1),e.Music.historyList.list.unshift(e.Music.playNow)},NextSong(e){if(e.Music.musicList.length<=0)return;let t=e.Music.musicList.length,i=e.Music.playNow.mid,o=e.Music.musicList.findIndex((e=>e.mid==i));switch(c("log","at store/index.js:383",e.playMode,o),e.playMode){case"order":e.Player.loop=!1,o==t-1?(e.Player.pause(),e.isPlaying=!1):(e.Music.playNow=e.Music.musicList[(o+1)%t],e.isPlaying=!1,e.Player.src=e.Music.playNow.src,e.Player.play(),e.isPlaying=!0);break;case"listloop":e.Player.loop=!1,e.Music.playNow=e.Music.musicList[(o+1)%t],e.isPlaying=!1,e.Player.src=e.Music.playNow.src,e.Player.play(),e.isPlaying=!0;break;case"random":e.Player.loop=!1;let i=Math.floor(Math.random()*t);e.Music.playNow=e.Music.musicList[i],e.isPlaying=!1,e.Player.src=e.Music.playNow.src,e.Player.play(),e.isPlaying=!0;break;case"singleloop":e.Player.loop=!0,e.Player.src=e.Music.playNow.src,e.Player.play(),e.isPlaying=!0}let n=e.Music.historyList.list.indexOf(e.Music.playNow);-1!=n&&e.Music.historyList.list.splice(n,1),e.Music.historyList.list.unshift(e.Music.playNow)}},modules:{User:{namespaced:!0,state:()=>({user:{uid:-1,headpic:"",username:"",nickname:"",motto:"",Rtime:0},isLogin:!1}),getters:{getUserinfo:e=>e.isLogin?e.user:null,getIsLogin:(e,t)=>e.isLogin},actions:{async login({commit:e,state:t},{username:i,password:o}){let n=await me.login(i,o);if(1==n.state){return e("setUser",await me.getUser(n.uid)),e("isLogin",!0),{state:!0,msg:"登录成功"}}return{state:!1,msg:n.err}},async register({commit:e,state:t},{username:i,password:o}){let n=await me.register(i,o);return 1==n.state?{state:!0,msg:"注册成功"}:{state:!1,msg:n.err}}},mutations:{setUser(e,t){e.user=t},isLogin(e,t){e.isLogin=t}}},Setting:{namespaced:!0,state:()=>({setting:{isNight:!1,backgroundSrc:"../../static/Image/background3.png",backgroundStyle:""}}),getters:{isNight:e=>e.isNight},actions:{},mutations:{toggleNight(e){e.isNight=!e.isNight,c("log","at store/modules/setting.js:29","切换模式",e.isNight)},getLocalSetting(e){try{const e=uni.getStorageSync("Setting");e&&c("log","at store/modules/setting.js:36",e)}catch(t){c("log","at store/modules/setting.js:39",t)}},setLocalSetting(e){try{uni.setStorageSync("Setting",e.setting),c("log","at store/modules/setting.js:46","保存成功")}catch(t){c("log","at store/modules/setting.js:49",t)}}}},Music:{namespaced:!0,state:()=>({lastMusic:{},playNow:{},defaultCover:"../../static/Image/cover.png",nowLrc:"歌词",all:[],musicList:[],nowList:"",myFavorList:{listname:"我喜欢的音乐",listcover:"../../static/Image/background1.jpg",listinfo:"仅仅只是因为喜欢......",listtags:[],listCreator:"",list:[]},historyList:{listname:"历史歌单",listcover:"../../static/Image/background1.jpg",listinfo:"我曾经听见......",listtags:[],listCreator:"",list:[]},myMusicLists:[{listname:"自定义歌单",listcover:"../../static/Image/background1.jpg",listinfo:"一个自定义的歌单",listtags:["治愈"],listCreator:"wh131462",list:[]},{listname:"自定义歌单1",listcover:"../../static/Image/background1.jpg",listinfo:"一个自定义的歌单1",listtags:["治愈"],listCreator:"wh131462",list:[]}],searchPrograss:{isFinish:!1,now:"",startCount:0,count:0,skipCount:0},searchTarget:""}),getters:{allMusicCount:e=>e.all.length,searchByName:e=>t=>(c("log","at store/modules/music.js:74","搜索",t),e.musicList.filter((e=>(c("log","at store/modules/music.js:76",e.title),e.title.includes(t))))),musicInfo:(e,t,i)=>t=>-1==t?i.defaultMusic:e.musicList.find((e=>e.mid==t))},actions:{search:async({commit:e,state:t,getters:i},{searchContent:o})=>await i.searchByName(o),async playMusic({state:e,rootState:t,commit:i},o){if(-1==o)return e.playNow=t.defaultMusic,t.isPlaying=!1,t.Player.src=e.playNow.src,i("Play",null,{root:!0}),void i("addToHistory");e.playNow=await e.musicList.find((e=>e.mid==o)),t.isPlaying=!1,t.Player.src=e.playNow.src,i("Play",null,{root:!0}),i("addToHistory")},getLocalCoverById({state:e},t){try{const e=plus.android.importClass("android.provider.MediaStore"),i=(plus.android.importClass("android.content.ContentResolver"),plus.android.runtimeMainActivity());plus.android.importClass(i.getContentResolver());let o,n=plus.android.invoke(i.getContentResolver(),"query",e.Audio.Albums.EXTERNAL_CONTENT_URI,[e.Audio.Albums._ID,e.Audio.Albums.ALBUM_ART],e.Audio.Albums._ID+"=?",t,null);if(c("log","at store/modules/music.js:140",n),c("log","at store/modules/music.js:142","查询",t),plus.android.invoke(n,"moveToFirst")){let t=plus.android.invoke(n,"getString",plus.android.invoke(n,"getColumnIndex",e.Audio.Albums.ALBUM_ART));c("log","at store/modules/music.js:146",t),o=t}return o}catch(i){return c("log","at store/modules/music.js:153",i),null}},getLocalCover({state:e},t){getArtwork(context,song_id,album_id,!0)},isNeedCover:async({state:e,commit:t,dispatch:i},{cover:o,title:n,src:a,mid:s})=>new Promise(((t,l)=>{o!=e.defaultCover?l("rejected"):(i("getCover",{title:n,src:a,mid:s}),t("resolved"))})),async getCover({state:e,commit:t},{title:i,src:o,mid:n}){try{plus.android.runtimeMainActivity(),plus.android.importClass("android.content.Context"),plus.android.importClass("android.media.MediaMetadataRetriever");let e=plus.android.importClass("android.graphics.Bitmap"),a=plus.android.importClass("android.graphics.BitmapFactory"),s=plus.io.convertAbsoluteFileSystem(o);c("log","at store/modules/music.js:320","url",s);let l=plus.android.newObject("android.media.MediaMetadataRetriever");l.setDataSource(s);let r=l.getEmbeddedPicture();if(c("log","at store/modules/music.js:326","pic null",null==r),null==r)return c("log","at store/modules/music.js:329","释放对象",i,o),void l.release();c("log","at store/modules/music.js:333","将要转化为bim",i);let d=a.decodeByteArray(r,0,r.length);c("log","at store/modules/music.js:335","bim",d);let u=plus.android.importClass("java.io.File"),m=plus.android.importClass("java.io.FileOutputStream"),h=plus.io.convertLocalFileSystemURL("_doc/"),g=new u(h,i+".png");c("log","at store/modules/music.js:343","f",g);let p=h+i+".png";c("log","at store/modules/music.js:345","将要处理",i),g.exists()&&(c("log","at store/modules/music.js:347","已经存在",p),g.delete());let f=new m(g);d.compress(e.CompressFormat.PNG,100,f),c("log","at store/modules/music.js:353","compress"),f.flush(),c("log","at store/modules/music.js:355","flush"),f.close(),c("log","at store/modules/music.js:357","close"),c("log","at store/modules/music.js:359","释放对象",i,o),l.release(),c("log","at store/modules/music.js:361",n,p),t("setCover",{mid:n,cover:p})}catch(a){return void c("log","at store/modules/music.js:367",a)}},async getAll({state:e,getters:t,dispatch:i,commit:o}){c("log","at store/modules/music.js:378","开始扫描");let n=plus.android.runtimeMainActivity(),a=t.allMusicCount;if("Android"==plus.os.name){plus.android.importClass("android.os.Build");let i=plus.android.importClass("android.provider.MediaStore");plus.android.importClass(n.getContentResolver());let s=n.getContentResolver().query(i.Audio.Media.EXTERNAL_CONTENT_URI,[i.Audio.Media.TITLE,i.Audio.Media.ALBUM,i.Audio.Media.ARTIST,i.Audio.Media.YEAR,i.Audio.Media.DATA,i.Audio.Media.DURATION,i.Audio.Media.ALBUM_ID],null,null,i.Audio.Media.DEFAULT_SORT_ORDER);if(plus.android.importClass(s),s.moveToFirst(),null!=s){for(o("updateSearchPrograss",{key:"isFinish",val:!1}),o("updateSearchPrograss",{key:"startCount",val:t.allMusicCount}),o("updateSearchPrograss",{key:"count",val:0});s.moveToNext();){let t=[];if(t.title=s.getString(s.getColumnIndex(i.Audio.Media.TITLE)),t.albums=s.getString(s.getColumnIndex(i.Audio.Media.ALBUM)),t.artist=s.getString(s.getColumnIndex(i.Audio.Media.ARTIST)),t.year=s.getString(s.getColumnIndex(i.Audio.Media.YEAR)),t.src=s.getString(s.getColumnIndex(i.Audio.Media.DATA)),t.duration=s.getString(s.getColumnIndex(i.Audio.Media.DURATION)),t.albumId=s.getString(s.getColumnIndex(i.Audio.Media.ALBUM_ID)),o("updateSearchPrograss",{key:"count",val:++e.searchPrograss.count}),-1!=e.all.findIndex((e=>e.src==t.src))){c("log","at store/modules/music.js:435",t.title+"已存在");continue}if(parseInt(t.duration)<3e4||null==t.duration){c("log","at store/modules/music.js:439",t.title+" duration:"+t.duration),o("updateSearchPrograss",{key:"skipCount",val:++e.searchPrograss.skipCount});continue}let n={mid:a++,cover:"../../static/Image/cover.png",title:t.title,author:t.artist,albums:t.albums,albumId:t.albumId,year:t.year,duration:t.duration,src:t.src,lrc:""};c("log","at store/modules/music.js:460",n),o("addSong",n)}s.close(),o("updateSearchPrograss",{key:"isFinish",val:!0}),o("updateMusicList")}}}},mutations:{setCover(e,{index:t,mid:i,cover:o}){let n;c("log","at store/modules/music.js:485","本次接收到的参数：",t,i,o),null==i?(n=e.all[t].mid,c("log","at store/modules/music.js:488","通过index设置cover为"+o),e.all[t].cover=o,e.musicList.find((e=>e.mid==n)).cover=o):(n=i,c("log","at store/modules/music.js:495","通过mid设置cover为"+o),e.all.find((e=>e.mid==i)).cover=o,e.musicList.find((e=>e.mid==i)).cover=o),e.playNow.mid==n&&(e.playNow.cover=o)},getLocalData(e){try{const t=uni.getStorageSync("all");t&&(c("log","at store/modules/music.js:514","获取上次播放歌曲成功",t),e.all=t)}catch(t){e.all=null,c("log","at store/modules/music.js:519",t)}},setLocalData(e){try{uni.setStorageSync("all",e.all),c("log","at store/modules/music.js:526","保存all成功")}catch(t){c("log","at store/modules/music.js:529",t)}},getLastMusic(e){try{const t=uni.getStorageSync("LastMusic");t&&(c("log","at store/modules/music.js:537","获取上次播放歌曲成功",t),e.LastMusic=t)}catch(t){e.LastMusic=null,c("log","at store/modules/music.js:542",t)}},saveLastMusic(e){try{uni.setStorageSync("LastMusic",e.playNow),c("log","at store/modules/music.js:549","保存lastmusic成功")}catch(t){c("log","at store/modules/music.js:552",t)}},addSong(e,t){e.all.push(t)},noRepeat(e){e.all=Array.from(new Set(...e.all)),c("log","at store/modules/music.js:563","去重",e.all.length)},updateMusicList(e){e.musicList=e.all},changeList(e,{list:t}){e.nowList=t},addToHistory(e){let t=e.historyList.list.indexOf(e.playNow);-1!=t&&e.historyList.list.splice(t,1),e.historyList.list.unshift(e.playNow)},updateSearchPrograss(e,{key:t,val:i}){e.searchPrograss[t]=i},setTarget(e,{target:t}){c("log","at store/modules/music.js:595","目标已经修改为"+t),e.searchPrograss.now=t,e.searchTarget=t}}}}});const pe=function(){const t=e.createVueApp(re);return t.mixin({methods:{$noMoreClick:de.noMoreClick}}),t.use(ge),{app:t}}().app;pe._component.mpType="app",pe._component.render=()=>{},pe.use(uni.__vuePlugin).mount("#app")}(Vue);
